# .gitignore

```
# Logs logs *.log npm-debug.log* yarn-debug.log* yarn-error.log* pnpm-debug.log* lerna-debug.log* node_modules dist dist-ssr *.local # Editor directories and files .vscode/* !.vscode/extensions.json .idea .DS_Store *.suo *.ntvs* *.njsproj *.sln *.sw?
```

# eslint.config.js

```js
import js from '@eslint/js' import globals from 'globals' import react from 'eslint-plugin-react' import reactHooks from 'eslint-plugin-react-hooks' import reactRefresh from 'eslint-plugin-react-refresh' export default [ { ignores: ['dist'] }, { files: ['**/*.{js,jsx}'], languageOptions: { ecmaVersion: 2020, globals: globals.browser, parserOptions: { ecmaVersion: 'latest', ecmaFeatures: { jsx: true }, sourceType: 'module', }, }, settings: { react: { version: '18.3' } }, plugins: { react, 'react-hooks': reactHooks, 'react-refresh': reactRefresh, }, rules: { ...js.configs.recommended.rules, ...react.configs.recommended.rules, ...react.configs['jsx-runtime'].rules, ...reactHooks.configs.recommended.rules, 'react/jsx-no-target-blank': 'off', 'react-refresh/only-export-components': [ 'warn', { allowConstantExport: true }, ], }, }, ]
```

# index.html

```html
<!doctype html> <html lang="en"> <head> <meta charset="UTF-8" /> <link rel="icon" type="image/svg+xml" href="/vite.svg" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>Eventify</title> <link href="https://fonts.googleapis.com/css2?family=Radio+Canada:ital,wght@0,300..700;1,300..700&display=swap" rel="stylesheet"> </head> <body> <div id="root"></div> <script type="module" src="/src/main.jsx"></script> </body> </html>
```

# package.json

```json
{ "name": "intoday", "private": true, "version": "0.0.0", "type": "module", "scripts": { "dev": "vite", "build": "vite build", "lint": "eslint .", "preview": "vite preview" }, "dependencies": { "@heroicons/react": "^2.2.0", "@tanstack/react-query": "^5.59.15", "animejs": "^3.2.2", "antd": "^5.21.3", "axios": "^1.7.7", "date-fns": "^4.1.0", "framer-motion": "^11.13.1", "gsap": "^3.12.5", "lodash": "^4.17.21", "lodash.debounce": "^4.0.8", "lucide-react": "^0.535.0", "moment": "^2.30.1", "react": "^18.3.1", "react-beautiful-dnd": "^13.1.1", "react-calendar": "^6.0.0", "react-datepicker": "^8.4.0", "react-dnd": "^16.0.1", "react-dnd-html5-backend": "^16.0.1", "react-dom": "^18.3.1", "react-icons": "^5.3.0", "react-router-dom": "^6.27.0", "swal": "^0.1.0", "sweetalert": "^2.1.2" }, "devDependencies": { "@eslint/js": "^9.11.1", "@types/react": "^18.3.10", "@types/react-dom": "^18.3.0", "@vitejs/plugin-react": "^4.3.2", "autoprefixer": "^10.4.20", "eslint": "^9.11.1", "eslint-plugin-react": "^7.37.0", "eslint-plugin-react-hooks": "^5.1.0-rc.0", "eslint-plugin-react-refresh": "^0.4.12", "globals": "^15.9.0", "postcss": "^8.4.47", "tailwindcss": "^3.4.13", "vite": "^5.4.8" } }
```

# postcss.config.js

```js
export default { plugins: { tailwindcss: {}, autoprefixer: {}, }, }
```

# public\vite.svg

This is a file of the type: SVG Image

# README.md

```md
# React + Vite This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules. Currently, two official plugins are available: - [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh - [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh
```

# src\App.jsx

```jsx
import { RouterProvider, createBrowserRouter } from 'react-router-dom' import Home from './Pages/Home'; import { AuthProvider } from './Auth/AuthContext'; import Register from './Components/Auth/Register'; import Verification from './Components/Auth/Verification'; import Subscriptions from './Components/Subscriptions/Subscriptions'; import SignIn from './Components/Auth/Login'; import CreateCompany from './Components/Company/CreateCompany'; import ProtectedRoute from './Components/Routes/ProtectedRoutes'; import RestoreVerification from './Components/Auth/ResetPas'; import Dashboard from './Pages/Dashboard/Dashboard'; import Workspace from './Pages/Dashboard/Workspace/Workspace'; import WelcomeDashboard from './Components/WelcomeDashboard'; import NotificationsPage from './Components/Notifications/NotificationsPage'; import Settings from './Components/Settings/Settings'; const App = () => { const router = createBrowserRouter([ { path: "/", element: <Home />, }, { path: "/register", element:<AuthProvider><Register /></AuthProvider> , }, { path: "/login", element:<AuthProvider><SignIn /></AuthProvider> , }, { path: "/verification", element:<AuthProvider><Verification /></AuthProvider> , }, { path: "/reset-password", element:<AuthProvider><RestoreVerification /></AuthProvider> , }, { path: "/createcompany", element:<AuthProvider><ProtectedRoute element={<CreateCompany />} /></AuthProvider> , }, { path: "/subscriptions", element:<AuthProvider><ProtectedRoute element={<Subscriptions />} /></AuthProvider> , }, { path: "/settings", element: <AuthProvider> <ProtectedRoute element={<Settings />} /></AuthProvider>, }, { path: "/notifications", element: <AuthProvider> <ProtectedRoute element={<NotificationsPage />} /></AuthProvider>, }, { path: "/dashboard", element:<AuthProvider><ProtectedRoute element={<Dashboard />} /></AuthProvider> , children:[ { path:'/dashboard', element:<AuthProvider><ProtectedRoute element={<WelcomeDashboard />} /></AuthProvider> }, { path: "/dashboard/workspace/:id", element: <ProtectedRoute element={<Workspace />} />, }, { path: "/dashboard/workspace/:id/:sheetId", element: <ProtectedRoute element={<Workspace />} />, }, ] }, ]); return ( <div className="custom-scrollbar"> <RouterProvider router={router} /> </div> ) } export default App
```

# src\assets\5d3c4f61d58fc049b8def14e6d66662b.png

This is a binary file of the type: Image

# src\assets\189985eb82b475939dca491ddc807faf.png

This is a binary file of the type: Image

# src\assets\b4a0bd5e0894dd27c9b0053b36ac6208.png

This is a binary file of the type: Image

# src\assets\da562fcd7191cd36e0cb665c80152064.png

This is a binary file of the type: Image

# src\assets\default-avatar-icon-of-social-media-user-vector.jpg

This is a binary file of the type: Image

# src\assets\no-data.svg

This is a file of the type: SVG Image

# src\assets\react.svg

This is a file of the type: SVG Image

# src\assets\sounds\notification.js

```js
// Base64 encoded short notification sound export const notificationSound = "data:audio/mp3;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";
```

# src\Auth\AuthContext.jsx

```jsx
import { createContext, useContext, useState } from "react"; import axiosInstance from "../AxiosInctance/AxiosInctance"; import swal from "sweetalert"; import { useNavigate, useParams } from "react-router-dom"; import { useQuery } from "@tanstack/react-query"; const AuthContext = createContext(); const AuthProvider = ({ children }) => { const navigate = useNavigate(); const [loading, setLoading] = useState(false); const { sheetId } = useParams(); const register = async (credentials) => { console.log(credentials); setLoading(true); try { const response = await axiosInstance.post( "/auth/registration", credentials ); console.log(response); localStorage.setItem("token", response.data.token); setLoading(false); navigate("/verification"); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); } }; const login = async (credentials) => { console.log(credentials); setLoading(true); try { const response = await axiosInstance.post("/auth/login", credentials); console.log(response); localStorage.setItem("token", response.data.token.access); setLoading(false); navigate("/dashboard"); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); } }; const verification = async (credentials) => { console.log(credentials); setLoading(true); try { const response = await axiosInstance.post( "/auth/registration/verify", credentials ); console.log(response); localStorage.setItem("token", response.data.token.access); setLoading(false); swal({ title: "Success !", text: "Your account created successfully", icon: "success", button: "close", }); navigate("/createcompany"); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `You entered incorrect otp`, icon: "error", button: "ok", }); } }; const createCompany = async (credentials) => { const token = localStorage.getItem("token"); console.log(credentials); setLoading(true); try { const response = await axiosInstance.post("/company", credentials, { headers: { Authorization: `Bearer ${token}`, }, }); console.log(response); setLoading(false); swal({ title: "Success !", text: "You created company successfully", icon: "success", button: "close", }); navigate("/subscriptions"); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "ok", }); } }; const restoreAccount = async (credentials) => { console.log(credentials); setLoading(true); try { const response = await axiosInstance.post("/auth/restore", credentials); localStorage.setItem("email", credentials.email); console.log(response); setLoading(false); swal({ title: "Success !", text: "We sent verification code to your account", icon: "success", button: "close", }); navigate("/reset-password"); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `Please check email field`, icon: "error", button: "ok", }); } }; const accountRestoreVerification = async (credentials) => { console.log(credentials); setLoading(true); try { const response = await axiosInstance.post( "/auth/restore/verify", credentials ); console.log(response); localStorage.setItem("token", response.data.token.access); setLoading(false); swal({ title: "Success !", text: "Your signed in successfully", icon: "success", button: "close", }); navigate("/dashboard"); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.message}`, icon: "error", button: "ok", }); } }; const createWorkspace = async (credentials) => { console.log(credentials); setLoading(true); const token = localStorage.getItem("token"); try { const response = await axiosInstance.post("/workspace", credentials, { headers: { Authorization: `Bearer ${token}`, }, }); console.log(response); setLoading(false); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); } }; const dndOrders = async (credentials) => { setLoading(true); const token = localStorage.getItem("token"); try { const response = await axiosInstance.put("/workspace", credentials, { headers: { Authorization: `Bearer ${token}`, }, }); console.log(response); setLoading(false); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); } }; const dndOrdersSheets = async (credentials) => { setLoading(true); const token = localStorage.getItem("token"); try { const response = await axiosInstance.put("/sheet", credentials, { headers: { Authorization: `Bearer ${token}`, }, }); console.log(response); setLoading(false); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); } }; const dndOrdersTasks = async (credentials) => { setLoading(true); const token = localStorage.getItem("token"); try { const response = await axiosInstance.put("/task/reorder", credentials, { headers: { Authorization: `Bearer ${token}`, }, }); console.log(response); setLoading(false); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); } }; const createSheet = async (credentials) => { setLoading(true); const token = localStorage.getItem("token"); // Validation if ( !credentials.name || !credentials.workspaceId || !credentials.columns || !credentials.columns.length ) { setLoading(false); swal({ title: "Error !", text: `Please fill all required fields (name, workspace, columns)`, icon: "error", button: "close", }); return null; } try { const response = await axiosInstance.post("/sheet", credentials, { headers: { Authorization: `Bearer ${token}`, }, }); console.log(response); setLoading(false); return response.data; } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); return null; } }; const updateSheet = async (credentials) => { setLoading(true); const token = localStorage.getItem("token"); try { const response = await axiosInstance.put( `/sheet/${sheetId}`, credentials, { headers: { Authorization: `Bearer ${token}`, }, } ); console.log(response); setLoading(false); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); } }; const createColumn = async (credentials) => { credentials.type = credentials.type.toUpperCase(); setLoading(true); const token = localStorage.getItem("token"); try { const response = await axiosInstance.post("/column", credentials, { headers: { Authorization: `Bearer ${token}`, }, }); console.log(response); setLoading(false); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); } }; const createTask = async (credentials) => { setLoading(true); const token = localStorage.getItem("token"); try { const response = await axiosInstance.post("/task", credentials, { headers: { Authorization: `Bearer ${token}`, }, }); console.log(response); setLoading(false); } catch (error) { console.log(error); setLoading(false); swal({ title: "Error !", text: `${error.response.data.message}`, icon: "error", button: "close", }); } }; const fetchMembers = async () => { const token = localStorage.getItem("token"); const response = await axiosInstance.get("/member", { headers: { Authorization: `Bearer ${token}`, }, }); return response.data; }; const { data: members, isLoading, error, refetch, } = useQuery({ queryKey: ["members"], queryFn: fetchMembers, }); const changeCompany = async(credentials)=>{ const token = localStorage.getItem("token"); try{ setLoading(true) const response = await axiosInstance.patch("/user/change-role", credentials, { headers:{ Authorization: `Bearer ${token}` } }) setLoading(false) return response }catch(err){ console.log(err); } } // Update password function const updatePassword = async ({ oldPassword, newPassword }) => { setLoading(true); const token = localStorage.getItem("token"); try { const response = await axiosInstance.patch( "/user/change-password", { oldPassword, newPassword }, { headers: { Authorization: `Bearer ${token}`, }, } ); setLoading(false); swal({ title: "Success!", text: "Password updated successfully.", icon: "success", button: "close", }); return response; } catch (error) { setLoading(false); swal({ title: "Error!", text: error?.response?.data?.message || "Failed to update password.", icon: "error", button: "close", }); throw error; } }; console.log(members); return ( <AuthContext.Provider value={{ register, verification, loading, login, createCompany, restoreAccount, accountRestoreVerification, createWorkspace, dndOrders, createSheet, createColumn, updateSheet, createTask, dndOrdersSheets, dndOrdersTasks, members, changeCompany, updatePassword // <-- add here }} > {children} </AuthContext.Provider> ); }; export { AuthContext, AuthProvider };
```

# src\AxiosInctance\AxiosInctance.jsx

```jsx
import axios from "axios"; const axiosInstance = axios.create({ baseURL: "https://eventify.preview.uz/api/v1", }); export default axiosInstance;
```

# src\Components\Auth\AuthCard.jsx

```jsx
import React from "react"; const AuthCard = ({ children }) => ( <div className="bg-darkBlue w-full max-w-md rounded-2xl shadow-lg p-8 sm:p-10 md:p-12 flex flex-col gap-6"> {children} </div> ); export default AuthCard;
```

# src\Components\Auth\AuthInput.jsx

```jsx
import React from "react"; const AuthInput = ({ type = "text", name, value, onChange, placeholder, autoComplete, right, ...props }) => ( <div className="relative w-full"> <input type={type} name={name} value={value} onChange={onChange} placeholder={placeholder} autoComplete={autoComplete} className="rounded-lg w-full h-14 bg-[#122434] placeholder:text-lg text-lg text-textGray font-semibold pl-6 pr-14 focus:outline-none focus:ring-2 focus:ring-pink2 transition" {...props} /> {right && ( <div className="absolute right-4 top-1/2 -translate-y-1/2 cursor-pointer select-none"> {right} </div> )} </div> ); export default AuthInput;
```

# src\Components\Auth\AuthLayout.jsx

```jsx
import React from "react"; // import { useNavigate } from "react-router-dom"; // const AuthNavbar = () => { // const navigate = useNavigate(); // // Check if user is authenticated (token in localStorage) // const isAuthenticated = Boolean(localStorage.getItem("token")); // const handleBack = () => { // if (isAuthenticated) { // navigate("/dashboard"); // } else { // navigate("/home"); // } // }; // return ( // <nav className="w-full flex items-center justify-between px-6 py-4 border-b border-gray-800 bg-darkBlue"> // <div className="text-2xl font-bold text-yellow tracking-tight select-none"> // Eventify // </div> // <button // onClick={handleBack} // className="text-sm px-4 py-2 rounded-md bg-pink2 text-white font-semibold hover:bg-pink-600 transition" // > // Back // </button> // </nav> // ); // }; const AuthLayout = ({ children }) => { return ( <div className="min-h-screen flex flex-col bg-[#222430]"> {/* <AuthNavbar /> */} <main className="flex-1 flex items-center justify-center px-2 py-8"> {children} </main> </div> ); }; export default AuthLayout;
```

# src\Components\Auth\Login.jsx

```jsx
import React, { useContext, useState } from "react"; import { AuthContext } from "../../Auth/AuthContext"; import { Link } from "react-router-dom"; import AuthLayout from "./AuthLayout"; import AuthCard from "./AuthCard"; import AuthInput from "./AuthInput"; import { FiMail, FiLock } from "react-icons/fi"; import { FiEye, FiEyeOff } from "react-icons/fi"; const Login = () => { const [credentials, setCredentials] = useState({ email: "", password: "" }); const { login, loading } = useContext(AuthContext); const [showPassword, setShowPassword] = useState(false); const handleChange = (e) => { setCredentials({ ...credentials, [e.target.name]: e.target.value }); }; const handleSubmit = (e) => { e.preventDefault(); login(credentials); }; return ( <AuthLayout> <div className="max-w-md mx-auto mt-16 bg-[#1E1E1E] rounded-2xl shadow-lg border-2 border-[#3A3A3A] overflow-hidden"> <div className="relative p-8"> <div className="absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <h1 className="text-3xl font-bold text-white mb-8 text-center drop-shadow"> Log In </h1> <form onSubmit={handleSubmit} className="flex flex-col gap-6"> <div> <label htmlFor="email" className="text-[#777C9D] text-lg font-semibold mb-2 block" > Email address </label> <div className="relative group"> <span className="absolute left-3 top-1/2 -translate-y-1/2 text-[#777C9D] group-hover:text-pink2 transition-colors"> <FiMail size={20} /> </span> <AuthInput id="email" name="email" type="email" required autoComplete="email" value={credentials.email} onChange={handleChange} placeholder="Email" className="w-full min-w-[320px] bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 pl-4 pr-4 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </div> </div> <div> <div className="flex items-center justify-between mb-2"> <label htmlFor="password" className="text-[#777C9D] text-lg font-semibold" > Password </label> <Link to="/reset-password" className="text-pink2 text-sm font-medium hover:underline" > Forgot Password? </Link> </div> <div className="relative group"> <span className="absolute left-3 top-1/2 -translate-y-1/2 text-[#777C9D] group-hover:text-pink2 transition-colors"> <FiLock size={20} /> </span> <AuthInput id="password" name="password" type={showPassword ? "text" : "password"} required autoComplete="current-password" value={credentials.password} onChange={handleChange} placeholder="Password" className="w-full min-w-[320px] bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 pl-4 pr-12 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> <button type="button" className="absolute right-3 top-1/2 -translate-y-1/2 text-[#777C9D] hover:text-pink2 transition-colors" onClick={() => setShowPassword((v) => !v)} tabIndex={-1} aria-label={showPassword ? "Hide password" : "Show password"} > {showPassword ? <FiEyeOff size={22} /> : <FiEye size={22} />} </button> <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </div> </div> <button type="submit" className="h-14 w-full bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl text-lg font-bold hover:shadow-lg hover:shadow-pink2/20 transition relative overflow-hidden group" disabled={loading} > <span className="relative z-10"> {loading ? "Loading..." : "Log In"} </span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </button> </form> <div className="mt-8 text-center text-[#777C9D] text-sm"> Don’t have an account?{" "} <Link to="/register" className="text-pink2 font-semibold hover:underline" > Register </Link> </div> </div> </div> </AuthLayout> ); }; export default Login;
```

# src\Components\Auth\Register.jsx

```jsx
import React, { useContext, useState } from "react"; import { AuthContext } from "../../Auth/AuthContext"; import { Link } from "react-router-dom"; import AuthLayout from "./AuthLayout"; import AuthCard from "./AuthCard"; import AuthInput from "./AuthInput"; import { FiEye, FiEyeOff } from "react-icons/fi"; const Register = () => { const [credentials, setCredentials] = useState({ firstName: "", lastName: "", email: "", password: "", }); const [showPassword, setShowPassword] = useState(false); const { register, loading } = useContext(AuthContext); const handleChange = (e) => { setCredentials({ ...credentials, [e.target.name]: e.target.value }); }; const handleSubmit = (e) => { e.preventDefault(); register(credentials); }; return ( <AuthLayout> <div className="max-w-md mx-auto mt-16 bg-[#1E1E1E] rounded-2xl shadow-lg border-2 border-[#3A3A3A] overflow-hidden"> <div className="relative p-8"> <div className="absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <h1 className="text-3xl font-bold text-white mb-8 text-center drop-shadow"> Register </h1> <form onSubmit={handleSubmit} className="flex flex-col gap-6"> {/* First Name */} <div> <label htmlFor="firstName" className="text-[#777C9D] text-lg font-semibold mb-2 block"> First Name </label> <AuthInput id="firstName" name="firstName" type="text" required value={credentials.firstName} onChange={handleChange} placeholder="First Name" className="w-full min-w-[320px] bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> </div> {/* Last Name */} <div> <label htmlFor="lastName" className="text-[#777C9D] text-lg font-semibold mb-2 block"> Last Name </label> <AuthInput id="lastName" name="lastName" type="text" required value={credentials.lastName} onChange={handleChange} placeholder="Last Name" className="w-full min-w-[320px] bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> </div> {/* Email */} <div> <label htmlFor="email" className="text-[#777C9D] text-lg font-semibold mb-2 block"> Email address </label> <div className="relative group"> <span className="absolute left-3 top-1/2 -translate-y-1/2 text-[#777C9D] group-hover:text-pink2 transition-colors"> <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"> <path d="M4 4h16v16H4V4zm0 0l8 8 8-8" /> </svg> </span> <AuthInput id="email" name="email" type="email" required autoComplete="email" value={credentials.email} onChange={handleChange} placeholder="Email" className="w-full min-w-[320px] bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 pl-4 pr-4 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </div> </div> {/* Password */} <div> <label htmlFor="password" className="text-[#777C9D] text-lg font-semibold mb-2 block"> Password </label> <div className="relative group"> <span className="absolute left-3 top-1/2 -translate-y-1/2 text-[#777C9D] group-hover:text-pink2 transition-colors"> <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"> <path d="M12 17a2 2 0 0 0 2-2V9a2 2 0 0 0-4 0v6a2 2 0 0 0 2 2zm6 0V9a6 6 0 0 0-12 0v8" /> </svg> </span> <AuthInput id="password" name="password" type={showPassword ? "text" : "password"} required autoComplete="current-password" value={credentials.password} onChange={handleChange} placeholder="Password" className="w-full min-w-[320px] bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 pl-4 pr-12 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> <button type="button" className="absolute right-3 top-1/2 -translate-y-1/2 text-[#777C9D] hover:text-pink2 transition-colors" onClick={() => setShowPassword((v) => !v)} tabIndex={-1} > {showPassword ? <FiEyeOff size={22} /> : <FiEye size={22} />} </button> <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </div> </div> <button type="submit" className="h-14 w-full bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl text-lg font-bold hover:shadow-lg hover:shadow-pink2/20 transition relative overflow-hidden group" disabled={loading} > <span className="relative z-10">{loading ? "Loading..." : "Register"}</span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </button> </form> <div className="mt-8 text-center text-[#777C9D] text-sm"> Already have an account?{" "} <Link to="/login" className="text-pink2 font-semibold hover:underline"> Login </Link> </div> </div> </div> </AuthLayout> ); }; export default Register;
```

# src\Components\Auth\ResetPas.jsx

```jsx
import React, { useContext, useState, useRef } from 'react' import { AuthContext } from '../../Auth/AuthContext'; const OTP_LENGTH = 6; const RestoreVerification = () => { const email = localStorage.getItem('email'); const [otpArr, setOtpArr] = useState(Array(OTP_LENGTH).fill("")); const { accountRestoreVerification, loading } = useContext(AuthContext); const inputRefs = useRef([]); const handleChange = (idx, value) => { if (!/^[0-9]?$/.test(value)) return; const newArr = [...otpArr]; newArr[idx] = value; setOtpArr(newArr); if (value && idx < OTP_LENGTH - 1) { inputRefs.current[idx + 1]?.focus(); } }; const handleKeyDown = (idx, e) => { if (e.key === "Backspace" && !otpArr[idx] && idx > 0) { inputRefs.current[idx - 1]?.focus(); } }; const handlePaste = (e) => { const paste = e.clipboardData.getData("text").slice(0, OTP_LENGTH); if (paste.length === OTP_LENGTH && /^[0-9]+$/.test(paste)) { setOtpArr(paste.split("")); inputRefs.current[OTP_LENGTH - 1]?.focus(); e.preventDefault(); } }; const handleSubmit = (e) => { e.preventDefault(); accountRestoreVerification({ otp: otpArr.join(""), email }); setOtpArr(Array(OTP_LENGTH).fill("")); }; return ( <div className="min-h-screen flex items-center justify-center bg-[#181A20]"> <div className="max-w-md w-full bg-[#1E1E1E] rounded-2xl shadow-lg border-2 border-[#3A3A3A] overflow-hidden"> <div className="relative p-8"> <div className="absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <h1 className="text-3xl font-bold text-white mb-8 text-center drop-shadow"> Confirm email </h1> <form onSubmit={handleSubmit} className="flex flex-col gap-8"> <div> <label htmlFor="otp" className="text-[#777C9D] text-lg font-semibold mb-4 block text-center" > Enter the 6-digit code sent to your email </label> <div className="flex justify-center items-center gap-1" onPaste={handlePaste}> {otpArr.map((digit, idx) => ( <input key={idx} ref={el => inputRefs.current[idx] = el} type="text" inputMode="numeric" maxLength={1} autoComplete="off" value={digit} onChange={e => handleChange(idx, e.target.value)} onKeyDown={e => handleKeyDown(idx, e)} className="w-12 h-14 text-center text-2xl font-bold bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl text-white focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> ))} </div> </div> <button type="submit" className="h-14 w-full bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl text-lg font-bold hover:shadow-lg hover:shadow-pink2/20 transition relative overflow-hidden group" disabled={loading || otpArr.some(d => !d)} > <span className="relative z-10"> {!loading ? "Verify" : "Loading..."} </span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </button> </form> </div> </div> </div> ) } export default RestoreVerification
```

# src\Components\Auth\Verification.jsx

```jsx
import React, { useContext, useState, useRef } from 'react' import { AuthContext } from '../../Auth/AuthContext'; const OTP_LENGTH = 6; const Verification = () => { const token = localStorage.getItem('token'); const [otpArr, setOtpArr] = useState(Array(OTP_LENGTH).fill("")); const { verification, loading } = useContext(AuthContext); const inputRefs = useRef([]); const handleChange = (idx, value) => { if (!/^[0-9]?$/.test(value)) return; const newArr = [...otpArr]; newArr[idx] = value; setOtpArr(newArr); if (value && idx < OTP_LENGTH - 1) { inputRefs.current[idx + 1]?.focus(); } }; const handleKeyDown = (idx, e) => { if (e.key === "Backspace" && !otpArr[idx] && idx > 0) { inputRefs.current[idx - 1]?.focus(); } }; const handlePaste = (e) => { const paste = e.clipboardData.getData("text").slice(0, OTP_LENGTH); if (paste.length === OTP_LENGTH) { setOtpArr(paste.split("")); inputRefs.current[OTP_LENGTH - 1]?.focus(); e.preventDefault(); } }; const handleSubmit = (e) => { e.preventDefault(); verification({ otp: otpArr.join(""), token }); setOtpArr(Array(OTP_LENGTH).fill("")); }; return ( <div className="min-h-screen flex items-center justify-center bg-[#181A20]"> <div className="max-w-md w-full bg-[#1E1E1E] rounded-2xl shadow-lg border-2 border-[#3A3A3A] overflow-hidden"> <div className="relative p-8"> <div className="absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <h1 className="text-3xl font-bold text-white mb-8 text-center drop-shadow"> Confirm email </h1> <form onSubmit={handleSubmit} className="flex flex-col gap-8"> <div> <label htmlFor="otp" className="text-[#777C9D] text-lg font-semibold mb-4 block text-center" > Enter the 6-digit code sent to your email </label> <div className="flex justify-center gap-3" onPaste={handlePaste}> {otpArr.map((digit, idx) => ( <input key={idx} ref={el => inputRefs.current[idx] = el} type="text" inputMode="numeric" maxLength={1} autoComplete="off" value={digit} onChange={e => handleChange(idx, e.target.value)} onKeyDown={e => handleKeyDown(idx, e)} className="w-12 h-14 text-center text-2xl font-bold bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl text-white focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> ))} </div> </div> <button type="submit" className="h-14 w-full bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl text-lg font-bold hover:shadow-lg hover:shadow-pink2/20 transition relative overflow-hidden group" disabled={loading || otpArr.some(d => !d)} > <span className="relative z-10"> {!loading ? "Verify" : "Loading..."} </span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </button> </form> </div> </div> </div> ) } export default Verification
```

# src\Components\Common\CustomSelect.jsx

```jsx
import React, { useState, useRef, useEffect } from 'react'; import { motion, AnimatePresence } from 'framer-motion'; import { FiChevronDown } from 'react-icons/fi'; const CustomSelect = ({ options, value, onChange, placeholder, disabled = false, className = "" }) => { const [isOpen, setIsOpen] = useState(false); const [dropPosition, setDropPosition] = useState('bottom'); const selectRef = useRef(null); const dropdownRef = useRef(null); const selectedOption = options.find(opt => opt.value === value); useEffect(() => { const handleClickOutside = (event) => { if (selectRef.current && !selectRef.current.contains(event.target)) { setIsOpen(false); } }; document.addEventListener('mousedown', handleClickOutside); return () => document.removeEventListener('mousedown', handleClickOutside); }, []); useEffect(() => { if (isOpen && selectRef.current && dropdownRef.current) { const selectRect = selectRef.current.getBoundingClientRect(); const dropdownHeight = dropdownRef.current.offsetHeight; const windowHeight = window.innerHeight; const spaceBelow = windowHeight - selectRect.bottom; const spaceAbove = selectRect.top; if (spaceBelow < dropdownHeight && spaceAbove > spaceBelow) { setDropPosition('top'); } else { setDropPosition('bottom'); } } }, [isOpen]); return ( <div ref={selectRef} className={`relative group ${className}`}> <button onClick={() => !disabled && setIsOpen(!isOpen)} className={`w-full bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-left ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50' } transition-all duration-300 relative`} > <span className={`block ${selectedOption ? 'text-white' : 'text-[#777C9D]'}`}> {selectedOption ? selectedOption.label : placeholder} </span> <div className="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[#777C9D] group-hover:text-pink2 transition-colors"> <FiChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} /> </div> </button> {/* Hover gradient effect */} <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> <AnimatePresence> {isOpen && ( <motion.div ref={dropdownRef} initial={{ opacity: 0, y: dropPosition === 'bottom' ? -10 : 10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: dropPosition === 'bottom' ? -10 : 10 }} transition={{ duration: 0.2 }} className={`absolute z-50 w-full ${ dropPosition === 'bottom' ? 'top-full mt-2' : 'bottom-full mb-2' } py-2 bg-[#2A2A2A] rounded-xl border-2 border-[#3A3A3A] shadow-lg overflow-y-auto custom-scrollbar`} style={{ maxHeight: '144px' // Exactly 3 items: 3 * (40px item height + 8px padding) = 144px }} > {options.map((option) => ( <div key={option.value} onClick={() => { onChange(option.value); setIsOpen(false); }} className="px-4 py-2 text-[#777C9D] hover:text-white hover:bg-[#3A3A3A] cursor-pointer transition-colors h-10" > {option.label} </div> ))} </motion.div> )} </AnimatePresence> </div> ); }; export default CustomSelect;
```

# src\Components\Company\CreateCompany.jsx

```jsx
import { useContext, useState } from "react"; import { AuthContext } from "../../Auth/AuthContext"; const CreateCompany = () => { const [credentials, setCredentials] = useState({ name: "" }); const { createCompany, loading } = useContext(AuthContext); const handleChange = (e) => { setCredentials({ ...credentials, [e.target.name]: e.target.value }); }; const handleSubmit = (e) => { e.preventDefault(); createCompany(credentials); setCredentials({ name: "" }); }; return ( <div className="min-h-screen flex items-center justify-center bg-[#181A20]"> <div className="max-w-md w-full bg-[#1E1E1E] rounded-2xl shadow-lg border-2 border-[#3A3A3A] overflow-hidden"> <div className="relative p-8"> <div className="absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <h1 className="text-3xl font-bold text-white mb-8 text-center drop-shadow"> Create your company </h1> <form onSubmit={handleSubmit} className="flex flex-col gap-8"> <div> <label htmlFor="name" className="text-[#777C9D] text-lg font-semibold mb-2 block" > Company name </label> <div className="relative group"> <input id="name" name="name" type="text" required value={credentials.name} onChange={handleChange} placeholder="Company name..." className="w-full min-w-[320px] bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 pl-6 pr-4 text-white placeholder:text-[#777C9D] text-lg focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </div> </div> <button type="submit" className="h-14 w-full bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl text-lg font-bold hover:shadow-lg hover:shadow-pink2/20 transition relative overflow-hidden group" disabled={loading} > <span className="relative z-10"> {!loading ? "Create" : "Loading..."} </span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </button> </form> </div> </div> </div> ); }; export default CreateCompany;
```

# src\Components\Modals\DeleteConfirmationModal.jsx

```jsx
import React from 'react' import { motion, AnimatePresence } from 'framer-motion' import { FiX } from 'react-icons/fi' import { MdOutlineWarningAmber } from 'react-icons/md' const DeleteConfirmationModal = ({ isOpen, onClose, onDelete, title = "Delete Item", message = "Are you sure you want to delete this item? This action cannot be undone." }) => { return ( <AnimatePresence> {isOpen && ( <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} // Fullscreen overlay, always centered className="fixed inset-0 z-[9999] flex items-center justify-center" style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, zIndex: 9999, width: '100vw', height: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center', pointerEvents: 'auto' }} > {/* Backdrop */} <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="absolute inset-0 bg-black/50 backdrop-blur-sm" style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: '100vw', height: '100vh', background: 'rgba(0,0,0,0.5)', backdropFilter: 'blur(4px)', zIndex: 0, cursor: 'pointer' }} onClick={onClose} /> {/* Modal */} <motion.div initial={{ scale: 0.95, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.95, opacity: 0 }} transition={{ type: "spring", duration: 0.5 }} className="relative bg-[#1E1E1E] rounded-2xl w-full max-w-md overflow-hidden" style={{ zIndex: 1, minWidth: 340, maxWidth: 400, width: '100%', boxShadow: '0 4px 24px rgba(0,0,0,0.15)' }} > {/* Glass effect top banner */} <div className="absolute inset-x-0 top-0 h-32 bg-gradient-to-b from-red-500/20 to-transparent pointer-events-none" /> <div className="relative p-6"> {/* Close button */} <motion.button whileHover={{ scale: 1.1, rotate: 90 }} whileTap={{ scale: 0.9 }} onClick={onClose} className="absolute top-4 right-4 text-white transition-colors" > <FiX size={24} /> </motion.button> {/* Header */} <div className="flex items-center gap-4 mb-8"> <motion.div whileHover={{ scale: 1.05 }} className=" p-4 rounded-2xl bg-gradient-to-br from-red-500/20 to-red-500/10 flex items-center justify-center" > <MdOutlineWarningAmber className="text-red-500 text-3xl" /> </motion.div> <div> <h2 className="text-2xl font-semibold text-white mb-1">{title}</h2> <p className="text-[#777C9D] text-sm">{message}</p> </div> </div> {/* Buttons */} <div className="flex gap-3 pt-2"> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={onClose} className="flex-1 bg-[#2A2A2A] text-[#777C9D] rounded-xl py-3.5 font-medium transition-all duration-300 hover:bg-[#3A3A3A] hover:text-white" > Cancel </motion.button> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={onDelete} className="flex-1 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl py-3.5 font-medium transition-all duration-300 hover:shadow-lg hover:shadow-red-500/20 relative overflow-hidden group" > <span className="relative z-10">Delete</span> <div className="absolute inset-0 bg-gradient-to-r from-red-500/0 via-white/20 to-red-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </motion.button> </div> </div> </motion.div> </motion.div> )} </AnimatePresence> ) } export default DeleteConfirmationModal
```

# src\Components\Modals\InviteMemberModal.jsx

```jsx
import React, { useState, useEffect } from "react"; import { FiMail, FiUserPlus, FiX } from "react-icons/fi"; import { motion, AnimatePresence } from "framer-motion"; import axiosInstance from "../../AxiosInctance/AxiosInctance"; const InviteMemberModal = ({ isOpen, onClose }) => { const [email, setEmail] = useState(""); const [isLoading, setIsLoading] = useState(false); const [userDetails, setUserDetails] = useState(null); const [error, setError] = useState(""); const [type, setType] = useState("MEMBER"); const [permissions, setPermissions] = useState(["READ"]); const [view, setView] = useState("ALL"); const [workspaces, setWorkspaces] = useState([]); const [availableWorkspaces, setAvailableWorkspaces] = useState([]); const [members, setMembers] = useState([]); const [currentUserEmail, setCurrentUserEmail] = useState(""); const [showAdminTooltip, setShowAdminTooltip] = useState(false); const token = localStorage.getItem("token"); // Fetch available workspaces useEffect(() => { const fetchWorkspaces = async () => { try { const response = await axiosInstance.get("/workspace", { headers: { Authorization: `Bearer ${token}` }, }); setAvailableWorkspaces(response.data); } catch (error) { console.error("Error fetching workspaces:", error); } }; fetchWorkspaces(); }, []); // Fetch current user email useEffect(() => { const fetchUserInfo = async () => { try { const response = await axiosInstance.get("/user/info", { headers: { Authorization: `Bearer ${token}` }, }); setCurrentUserEmail(response.data.email); } catch (error) { console.error("Error fetching user info:", error); } }; fetchUserInfo(); }, []); // Fetch current workspace members useEffect(() => { const fetchMembers = async () => { try { const response = await axiosInstance.get("/member", { headers: { Authorization: `Bearer ${token}` }, }); setMembers(response.data); } catch (error) { console.error("Error fetching members:", error); } }; fetchMembers(); }, []); // Debounce email search useEffect(() => { const timer = setTimeout(() => { if (email && email.includes("@")) { fetchUserDetails(); } else { setUserDetails(null); } }, 500); return () => clearTimeout(timer); }, [email]); // Validation: self-invite and duplicate invite useEffect(() => { if (!email) { setError(""); return; } if (email === currentUserEmail) { setError("You cannot invite yourself."); return; } if (members.some((m) => m.user?.email === email)) { setError("This user is already a member of this workspace."); return; } setError(""); }, [email, currentUserEmail, members]); const fetchUserDetails = async () => { try { const response = await axiosInstance.get(`/user/${email}`, { headers: { Authorization: `Bearer ${token}`, }, }); if (email === currentUserEmail) { setError("You can not invite your self"); return; } setUserDetails(response.data); } catch (error) { setUserDetails({ email }); // setError("User not found"); } }; const handleSubmit = async (e) => { e.preventDefault(); if (!workspaces.length && view !== "ALL") return; if (error) return; setIsLoading(true); try { await axiosInstance.post( "/member", { type, permissions, view, userId: userDetails.id || null, email, workspaces, }, { headers: { Authorization: `Bearer ${token}`, }, } ); onClose(); } catch (error) { setError("Failed to send invitation. Please try again."); } finally { setIsLoading(false); } }; // CustomSelect and MultiSelect remain unchanged except for admin logic const CustomSelect = ({ label, value, onChange, options }) => ( <div className="space-y-2"> <label className="block text-sm font-medium text-[#777C9D]"> {label} </label> <div className="relative"> <select value={value} onChange={(e) => onChange(e.target.value)} className="w-full bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" > {options.map((option) => ( <option key={option} value={option} disabled={option === "ADMIN"}> {option} </option> ))} </select> {label === "Member Type" && ( <span className="absolute right-2 top-1/2 -translate-y-1/2 text-xs text-[#777C9D] cursor-help" onMouseEnter={() => setShowAdminTooltip(true)} onMouseLeave={() => setShowAdminTooltip(false)} > {showAdminTooltip && ( <span className="absolute right-0 top-6 bg-[#2A2A2A] text-white text-xs rounded px-2 py-1 shadow-lg z-10 border border-[#3A3A3A]"> Only workspace owners can assign admin roles. </span> )} (i) </span> )} </div> </div> ); const MultiSelect = ({ label, values, onChange, options, getOptionLabel, }) => ( <div className="space-y-2"> <label className="block text-sm font-medium text-[#777C9D]"> {label} </label> <div className="flex flex-wrap gap-2 p-2 bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl min-h-[48px]"> {values.map((value) => { const label = getOptionLabel ? getOptionLabel(value) : value; return ( <span key={value} className="inline-flex items-center px-3 py-1 rounded-lg bg-pink2/20 text-pink2 text-sm" > {label} <button type="button" onClick={() => onChange(values.filter((v) => v !== value))} className="ml-2 hover:text-white" > × </button> </span> ); })} <select value="" onChange={(e) => { if (e.target.value && !values.includes(e.target.value)) { onChange([...values, e.target.value]); } }} className="flex-1 min-w-[100px] bg-transparent text-white focus:outline-none" > <option value="">Add...</option> {options .filter((option) => !values.includes(option.id)) .map((option) => ( <option key={option.id} value={option.id}> {getOptionLabel ? getOptionLabel(option.id) : option.name} </option> ))} </select> </div> </div> ); // Hide workspace multi-select if view is ALL const showWorkspaceSelect = view !== "ALL"; return ( <AnimatePresence> {isOpen && ( <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="fixed inset-0 z-50 flex items-center justify-center p-4" > <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="absolute inset-0 bg-black/50 backdrop-blur-sm" onClick={onClose} /> <motion.div initial={{ scale: 0.95, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.95, opacity: 0 }} transition={{ type: "spring", duration: 0.5 }} className="relative bg-[#1E1E1E] rounded-2xl w-full max-w-md overflow-hidden max-h-[90vh] overflow-y-auto" > <div className="absolute inset-x-0 top-0 h-32 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <div className="relative p-6"> <motion.button whileHover={{ scale: 1.1, rotate: 90 }} whileTap={{ scale: 0.9 }} onClick={onClose} className="absolute top-4 right-4 text-gray2 hover:text-white transition-colors" > <FiX size={24} /> </motion.button> <div className="flex items-center gap-4 mb-8"> <motion.div whileHover={{ scale: 1.05 }} className="w-14 h-14 rounded-2xl bg-gradient-to-br from-pink2/20 to-pink2/10 flex items-center justify-center" > <FiUserPlus className="text-pink2 text-2xl" /> </motion.div> <div> <h2 className="text-2xl font-semibold text-white mb-1"> Invite Member </h2> <p className="text-[#777C9D] text-sm"> Send an invitation to collaborate </p> </div> </div> <form onSubmit={handleSubmit} className="space-y-6"> <div className="space-y-2"> <label htmlFor="email" className="block text-sm font-medium text-[#777C9D]" > Email Address </label> <motion.div whileFocus={{ scale: 1.02 }} className="relative group" > <FiMail className="absolute left-3 top-1/2 -translate-y-1/2 text-[#777C9D] group-hover:text-pink2 transition-colors" /> <input type="email" id="email" value={email} onChange={(e) => setEmail(e.target.value)} placeholder="Enter email address" className="w-full bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 pl-10 pr-4 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" required /> <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </motion.div> <AnimatePresence mode="wait"> {userDetails && ( <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -10 }} className="mt-4 p-4 bg-[#2A2A2A] rounded-xl border-2 border-[#3A3A3A]" > <div className="flex items-center gap-3"> <div className="w-10 h-10 rounded-full bg-pink2/20 flex items-center justify-center overflow-hidden"> {userDetails?.avatar?.path ? ( <img src={`https://eventify.preview.uz/${userDetails?.avatar?.path}`} alt="Profile" className="w-full h-full object-cover" /> ) : ( <span className="text-pink2 font-medium text-lg"> {userDetails?.email?.[0]?.toUpperCase() || "?"} </span> )} </div> <div> <h3 className="text-white font-medium"> {userDetails.firstName ? ( userDetails.firstName ) : userDetails.id ? ( "User" ) : ( <p className="text-amber-300"> User not registered, but can invite. </p> )} <p className="text-sm text-[#777C9D]"> {userDetails.email || email} </p> </h3> </div> </div> </motion.div> )} {error && ( <motion.p initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -10 }} className="mt-2 text-sm text-red-400" > {error} </motion.p> )} </AnimatePresence> </div> {userDetails && ( <div className="space-y-4"> <CustomSelect label="Member Type" value={type} onChange={setType} options={["MEMBER", "VIEWER", "ADMIN"]} /> <AnimatePresence initial={false}> {type !== "VIEWER" && ( <motion.div key="workspaces" initial={{ opacity: 0, y: 16 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 16 }} transition={{ duration: 0.3, ease: "easeInOut" }} > <MultiSelect label="Permissions" values={permissions} onChange={setPermissions} options={[ { id: "ALL", name: "All" }, { id: "READ", name: "Read" }, { id: "CREATE", name: "Create" }, { id: "UPDATE", name: "Update" }, { id: "DELETE", name: "Delete" }, ]} /> </motion.div> )} </AnimatePresence> <CustomSelect label="View Access" value={view} onChange={setView} options={["ALL", "OWN"]} /> <AnimatePresence initial={false}> {showWorkspaceSelect && ( <motion.div key="workspaces" initial={{ opacity: 0, y: 16 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 16 }} transition={{ duration: 0.3, ease: "easeInOut" }} > <MultiSelect label="Workspaces" values={workspaces} onChange={setWorkspaces} options={availableWorkspaces} getOptionLabel={(id) => availableWorkspaces.find((w) => w.id === id) ?.name || id } /> </motion.div> )} </AnimatePresence> </div> )} <div className="flex gap-3 pt-2"> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={onClose} type="button" className="flex-1 bg-[#2A2A2A] text-[#777C9D] rounded-xl py-3.5 font-medium transition-all duration-300 hover:bg-[#3A3A3A] hover:text-white" > Cancel </motion.button> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} type="submit" disabled={ !userDetails || isLoading || (showWorkspaceSelect && !workspaces.length) || !!error } className={`flex-1 bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl py-3.5 font-medium transition-all duration-300 hover:shadow-lg hover:shadow-pink2/20 relative overflow-hidden group ${!userDetails || isLoading || (showWorkspaceSelect && !workspaces.length) || !!error ? "opacity-50 cursor-not-allowed" : "" }`} > <span className="relative z-10"> {isLoading ? "Inviting..." : "Invite"} </span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </motion.button> </div> </form> </div> </motion.div> </motion.div> )} </AnimatePresence> ); }; export default InviteMemberModal;
```

# src\Components\Modals\MoveTaskModal.jsx

```jsx
import React, { useState, useEffect } from 'react'; import { motion, AnimatePresence } from 'framer-motion'; import { FiX } from 'react-icons/fi'; import { GoFileSymlinkFile } from "react-icons/go"; import axiosInstance from '../../AxiosInctance/AxiosInctance'; import CustomSelect from '../Common/CustomSelect'; const MoveTaskModal = ({ isOpen, onClose, taskId, onTaskMoved }) => { const [workspaces, setWorkspaces] = useState([]); const [sheets, setSheets] = useState([]); const [selectedWorkspace, setSelectedWorkspace] = useState(null); const [selectedSheet, setSelectedSheet] = useState(null); const token = localStorage.getItem("token"); useEffect(() => { if (isOpen) { fetchWorkspaces(); } }, [isOpen]); useEffect(() => { if (selectedWorkspace) { fetchSheets(selectedWorkspace); } }, [selectedWorkspace]); const fetchWorkspaces = async () => { try { const response = await axiosInstance.get('/workspace', { headers: { Authorization: `Bearer ${token}`, }, }); setWorkspaces(response.data); } catch (error) { console.error('Error fetching workspaces:', error); } }; const fetchSheets = async (workspaceId) => { try { const response = await axiosInstance.get(`/sheet/workspace/${workspaceId}`, { headers: { Authorization: `Bearer ${token}`, }, }); setSheets(response.data); } catch (error) { console.error('Error fetching sheets:', error); } }; const handleMove = async () => { if (!selectedSheet) return; try { await axiosInstance.patch('/task/move', { taskId: taskId, sheetId: selectedSheet }, { headers: { Authorization: `Bearer ${token}`, }, }); // Call the callback to update the task list if (onTaskMoved) { onTaskMoved(taskId); } onClose(); } catch (error) { console.error('Error moving task:', error); } }; return ( <AnimatePresence> {isOpen && ( <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="fixed inset-0 z-50 flex items-center justify-center p-4" > {/* Backdrop */} <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="absolute inset-0 bg-black/50 backdrop-blur-sm" onClick={onClose} /> {/* Modal */} <motion.div initial={{ scale: 0.95, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.95, opacity: 0 }} transition={{ type: "spring", duration: 0.5 }} className="relative bg-[#1E1E1E] rounded-2xl w-full max-w-md overflow-hidden" > {/* Glass effect top banner */} <div className="absolute inset-x-0 top-0 h-32 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <div className="relative p-6"> {/* Close button */} <motion.button whileHover={{ scale: 1.1, rotate: 90 }} whileTap={{ scale: 0.9 }} onClick={onClose} className="absolute top-4 right-4 text-gray2 hover:text-white transition-colors" > <FiX size={24} /> </motion.button> {/* Header */} <div className="flex items-center gap-4 mb-8"> <motion.div whileHover={{ scale: 1.05 }} className="w-14 h-14 rounded-2xl bg-gradient-to-br from-pink2/20 to-pink2/10 flex items-center justify-center" > <GoFileSymlinkFile className="text-pink2 text-2xl" /> </motion.div> <div> <h2 className="text-2xl font-semibold text-white mb-1">Move Task</h2> <p className="text-[#777C9D] text-sm">Move task to another sheet</p> </div> </div> {/* Form */} <div className="space-y-6"> <div className="space-y-2"> <label className="block text-sm font-medium text-[#777C9D]"> Select Workspace </label> <CustomSelect placeholder="Choose workspace" value={selectedWorkspace} onChange={(value) => { setSelectedWorkspace(value); setSelectedSheet(null); }} options={workspaces.map(workspace => ({ value: workspace.id, label: workspace.name }))} /> </div> <div className="space-y-2"> <label className="block text-sm font-medium text-[#777C9D]"> Select Sheet </label> <CustomSelect placeholder="Choose sheet" value={selectedSheet} onChange={setSelectedSheet} options={sheets.map(sheet => ({ value: sheet.id, label: sheet.name }))} disabled={!selectedWorkspace} /> </div> <div className="flex gap-3 pt-2"> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={onClose} className="flex-1 bg-[#2A2A2A] text-[#777C9D] rounded-xl py-3.5 font-medium transition-all duration-300 hover:bg-[#3A3A3A] hover:text-white" > Cancel </motion.button> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={handleMove} disabled={!selectedSheet} className={`flex-1 bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl py-3.5 font-medium transition-all duration-300 hover:shadow-lg hover:shadow-pink2/20 relative overflow-hidden group ${!selectedSheet ? 'opacity-50 cursor-not-allowed' : ''}`} > <span className="relative z-10">Move</span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </motion.button> </div> </div> </div> </motion.div> </motion.div> )} </AnimatePresence> ); }; export default MoveTaskModal;
```

# src\Components\Modals\WorkspaceFormModal.jsx

```jsx
import React from 'react'; import { createPortal } from 'react-dom'; import { FiX } from 'react-icons/fi'; import { HiOutlineFolder } from 'react-icons/hi'; import { motion, AnimatePresence } from 'framer-motion'; const WorkspaceFormModal = ({ isOpen, onClose, isEditing, workspaceName, onWorkspaceNameChange, onSubmit }) => { const handleSubmit = (e) => { e.preventDefault(); onSubmit(); }; return createPortal( <AnimatePresence> {isOpen && ( <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="fixed inset-0 z-[9999] flex items-center justify-center p-4" style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0 }} > {/* Backdrop */} <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="absolute inset-0 bg-black/50 backdrop-blur-sm" onClick={onClose} /> {/* Modal */} <motion.div initial={{ scale: 0.95, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.95, opacity: 0 }} transition={{ type: "spring", duration: 0.5 }} className="relative bg-[#1E1E1E] rounded-2xl w-full max-w-md overflow-hidden" > {/* Glass effect top banner */} <div className="absolute inset-x-0 top-0 h-32 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <div className="relative p-6"> {/* Close button */} <motion.button whileHover={{ scale: 1.1, rotate: 90 }} whileTap={{ scale: 0.9 }} onClick={onClose} className="absolute top-4 right-4 text-gray2 hover:text-white transition-colors" > <FiX size={24} /> </motion.button> {/* Header */} <div className="flex items-center gap-4 mb-8"> <motion.div whileHover={{ scale: 1.05 }} className="w-14 h-14 rounded-2xl bg-gradient-to-br from-pink2/20 to-pink2/10 flex items-center justify-center" > <HiOutlineFolder className="text-pink2 text-2xl" /> </motion.div> <div> <h2 className="text-2xl font-semibold text-white mb-1"> {isEditing ? "Edit Workspace" : "New Workspace"} </h2> <p className="text-[#777C9D] text-sm"> {isEditing ? "Update your workspace details" : "Create a new workspace to organize your work"} </p> </div> </div> {/* Form */} <form onSubmit={handleSubmit} className="space-y-6"> <div className="space-y-2"> <label className="block text-sm font-medium text-[#777C9D]"> Workspace Name </label> <motion.div whileFocus={{ scale: 1.02 }} className="relative group" > <input type="text" name="name" value={workspaceName.name} onChange={onWorkspaceNameChange} className="w-full bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" placeholder="Enter workspace name" /> <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </motion.div> </div> <div className="flex gap-3 pt-2"> <motion.button type="button" whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={onClose} className="flex-1 bg-[#2A2A2A] text-[#777C9D] rounded-xl py-3.5 font-medium transition-all duration-300 hover:bg-[#3A3A3A] hover:text-white" > Cancel </motion.button> <motion.button type="submit" whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} disabled={!workspaceName.name || !workspaceName.name.trim()} className={`flex-1 bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl py-3.5 font-medium transition-all duration-300 hover:shadow-lg hover:shadow-pink2/20 relative overflow-hidden group ${ !workspaceName.name || !workspaceName.name.trim() ? 'opacity-50 cursor-not-allowed' : '' }`} > <span className="relative z-10">{isEditing ? "Save Changes" : "Create Workspace"}</span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </motion.button> </div> </form> </div> </motion.div> </motion.div> )} </AnimatePresence>, document.body ); }; export default WorkspaceFormModal;
```

# src\Components\Navbar\Navbar.jsx

```jsx
import React, { useEffect, useState, useRef, useContext } from "react"; import { HiOutlineBell } from "react-icons/hi2"; import { IoPersonAddOutline } from "react-icons/io5"; import { IoMdMore } from "react-icons/io"; import testMemImg from "../../assets/default-avatar-icon-of-social-media-user-vector.jpg"; import { useQuery } from "@tanstack/react-query"; import axiosInstance from "../../AxiosInctance/AxiosInctance"; import { useParams, useNavigate, Link } from "react-router-dom"; import { FiUserPlus, FiCheck, FiUser, FiFileText, FiBell, } from "react-icons/fi"; import InviteMemberModal from "../Modals/InviteMemberModal"; import { motion, AnimatePresence } from "framer-motion"; import { format } from "date-fns"; import { notificationSound } from "../../assets/sounds/notification"; import NotificationDetailModal from "../Notifications/NotificationDetailModal"; import { AuthContext } from "../../Auth/AuthContext"; const Navbar = () => { const navigate = useNavigate(); const [isMenuOpen, setIsMenuOpen] = useState(false); const [showNotifications, setShowNotifications] = useState(false); const token = localStorage.getItem("token"); const { id, sheetId } = useParams(); const [notifications, setNotifications] = useState([]); const [previousCount, setPreviousCount] = useState(0); const audioRef = useRef(new Audio(notificationSound)); const notificationRef = useRef(null); const [selectedNotificationId, setSelectedNotificationId] = useState(null); const [showDetailModal, setShowDetailModal] = useState(false); const [selectedRole, setSelectedRole] = useState(null); const [showProfileDropdown, setShowProfileDropdown] = useState(false); const profileDropdownRef = useRef(null); // Add this ref const { changeCompany } = useContext(AuthContext); const fetchNotifications = async () => { try { const response = await axiosInstance.get("/notification", { headers: { Authorization: `Bearer ${token}` }, }); const newNotifications = response?.data?.notifications || []; // Play sound if there are new unread notifications const newUnreadCount = newNotifications.filter((n) => !n.isRead).length; if (newUnreadCount > previousCount && previousCount !== 0) { audioRef.current.play().catch(console.error); } setPreviousCount(newUnreadCount); setNotifications(newNotifications); } catch (error) { console.error("Error fetching notifications:", error); } }; useEffect(() => { fetchNotifications(); // Poll for new notifications every 30 seconds const interval = setInterval(fetchNotifications, 30000); return () => clearInterval(interval); }, [token]); useEffect(() => { const handleClickOutside = (event) => { if ( notificationRef.current && !notificationRef.current.contains(event.target) ) { setShowNotifications(false); } }; document.addEventListener("mousedown", handleClickOutside); return () => document.removeEventListener("mousedown", handleClickOutside); }, []); useEffect(() => { // Add event listener for profile dropdown close on outside click const handleProfileDropdownClickOutside = (event) => { if ( profileDropdownRef.current && !profileDropdownRef.current.contains(event.target) ) { setShowProfileDropdown(false); } }; if (showProfileDropdown) { document.addEventListener("mousedown", handleProfileDropdownClickOutside); } return () => { document.removeEventListener("mousedown", handleProfileDropdownClickOutside); }; }, [showProfileDropdown]); const recentNotifications = notifications.slice(0, 3); const unreadCount = notifications.filter((n) => !n.isRead).length; const getNotificationIcon = (type) => { switch (type) { case "INVITATION": return <FiUserPlus className="text-lg text-pink2" />; case "MENTION": return <FiUser className="text-lg text-blue-400" />; case "UPDATE": return <FiFileText className="text-lg text-purple-400" />; case "TASK": return <FiCheck className="text-lg text-pink2" />; default: return <FiBell className="text-lg text-[#777C9D]" />; } }; const formatTimestamp = (timestamp) => { return format(timestamp, "h:mm a"); }; const { isLoading, error, data } = useQuery({ queryKey: ["userinfo"], queryFn: async () => await axiosInstance.get("/user/info", { headers: { Authorization: `Bearer ${token}`, }, }), }); const { isLoading: workspacedownloading, error: wwrkerror, data: workspacelocation, refetch: refetchWorkspace, } = useQuery({ queryKey: ["location", id], queryFn: async () => await axiosInstance.get(`/workspace/${id}`, { headers: { Authorization: `Bearer ${token}`, }, }), enabled: !!id, }); const { isLoading: sheetdownloading, error: sheetError, data: sheetlocation, refetch: refetchsheet, } = useQuery({ queryKey: ["sheetlocation", sheetId], queryFn: async () => await axiosInstance.get(`/sheet/${sheetId}`, { headers: { Authorization: `Bearer ${token}`, }, }), enabled: !!sheetId, }); useEffect(() => { if (sheetId) { refetchsheet(); } }, [sheetId, refetchsheet]); useEffect(() => { if (id) { refetchWorkspace(); } }, [id, refetchWorkspace]); const user = data?.data || {}; useEffect(() => { if (user?.roles && user?.selectedRole) { const foundRole = user.roles.find((i) => user.selectedRole === i.id); setSelectedRole(foundRole); // You may keep or remove the console logs as needed for debugging console.log(user); console.log({ userrole: foundRole }); console.log({ selectedRole: foundRole }); } // Only run when user changes // eslint-disable-next-line react-hooks/exhaustive-deps }, [user]); const toggleMenu = () => { setIsMenuOpen((prev) => !prev); }; const [isInviteModalOpen, setIsInviteModalOpen] = useState(false); const handleNotificationClick = (id) => { setSelectedNotificationId(id); setShowDetailModal(true); }; const handleLogout = () => { localStorage.removeItem("token"); navigate("/login"); }; return ( <div className="relative py-4 lg:py-6 xl:py-[30px] flex flex-col lg:flex-row items-start lg:items-center justify-between mx-4 lg:mx-6 xl:mx-[35px] border-b border-grayDash font-radioCanada"> {/* Breadcrumb */} <div className="breadcrumb text-pink2 mb-4 lg:mb-0 min-w-0"> <h1 className="text-responsive-lg font-[500] truncate"> {!workspacedownloading ? workspacelocation?.data.name : "Loading"} {sheetId && ( <> {" / "} {!sheetdownloading && sheetlocation?.data?.name ? sheetlocation.data.name : sheetdownloading ? "Loading sheet..." : "No sheet"} </> )} </h1> </div> {/* Navigation Actions */} <div className={`navActions ${isMenuOpen ? "flex" : "hidden" } lg:flex flex-col lg:flex-row items-start lg:items-center gap-4 lg:gap-5 xl:gap-[12px] w-full lg:w-auto`} > <div className="flex items-center gap-3"> {/* Notification Icon */} <div className="relative" ref={notificationRef}> <button onClick={() => setShowNotifications(!showNotifications)} className="relative p-2.5 hover:bg-[#2A2A2A] rounded-xl transition-colors" > <HiOutlineBell size={24} className="text-[#777C9D] hover:text-white transition-colors" /> {unreadCount > 0 && ( <motion.div initial={{ scale: 0 }} animate={{ scale: 1 }} className="absolute -top-1 -right-1 bg-pink2 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-medium" > {unreadCount} </motion.div> )} </button> {/* Notifications Dropdown */} <AnimatePresence> {showNotifications && ( <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 10 }} className="absolute right-0 top-full mt-2 w-[380px] min-h-[220px] bg-[#1E1E1E] rounded-xl shadow-lg border border-[#2A2A2A] overflow-hidden z-50" style={{ minHeight: "220px", maxHeight: "400px" }} > {/* Header */} <div className="p-4 border-b border-[#2A2A2A] flex items-center justify-between"> <div className="flex items-center gap-2"> <HiOutlineBell size={20} className="text-[#777C9D]" /> <h3 className="text-white font-medium">Notifications</h3> {unreadCount > 0 && ( <span className="bg-pink2/10 text-pink2 text-xs px-2 py-1 rounded-full"> {unreadCount} new </span> )} </div> <button onClick={() => navigate("/notifications")} className="text-sm text-[#777C9D] hover:text-white transition-colors" > View all </button> </div> <div className="max-h-[400px] overflow-y-auto custom-scrollbar"> {recentNotifications.length === 0 ? ( <div className="p-8 text-center text-[#777C9D] flex flex-col items-center gap-3"> <HiOutlineBell size={24} /> <p>No notifications yet</p> </div> ) : ( <div className="divide-y divide-[#2A2A2A]"> {recentNotifications.map((notification) => ( <div key={notification.id} className={`p-4 flex items-start gap-3 hover:bg-[#2A2A2A] transition-colors cursor-pointer ${!notification.isRead ? "bg-[#2A2A2A]/50" : "" }`} onClick={() => handleNotificationClick(notification.id) } > <div className="mt-1 flex-shrink-0"> {getNotificationIcon(notification.type)} </div> <div className="flex-1 min-w-0"> <p className="text-white text-sm break-words"> {notification.text} </p> <p className="text-[#777C9D] text-xs mt-1"> {formatTimestamp( new Date(notification.createdAt) )} </p> </div> {!notification.isRead && ( <div className="w-2 h-2 rounded-full bg-pink2 mt-2 flex-shrink-0" /> )} </div> ))} </div> )} </div> </motion.div> )} </AnimatePresence> </div> {selectedRole?.type === "AUTHOR" && ( <div onClick={() => setIsInviteModalOpen(true)} className="invite flex items-center text-white bg-grayDash px-3 lg:px-[12px] py-2 lg:py-[7px] rounded-[9px] cursor-pointer gap-2 lg:gap-[9px] hover:bg-gray transition-all duration-300 w-full lg:w-auto h-[40px]" > <IoPersonAddOutline className="text-xl lg:text-[24px]" /> <p className="text-responsive-xs">Invite</p> </div> )} <div className="relative"> <div className="profile flex items-center bg-grayDash rounded-[9px] py-2 lg:py-[7px] px-3 lg:px-[12px] gap-2 lg:gap-[9px] hover:bg-gray transition-all duration-300 cursor-pointer w-full lg:w-auto h-[40px]" onClick={() => setShowProfileDropdown((v) => !v)} > <div className="flex-1 lg:flex-none"> <p className="text-[11px] lg:text-[12px] text-white"> {user?.firstName ? user.firstName : user.email} </p> <div className="flex gap-[3px]"> <span className="text-[10px] lg:text-[11px] text-pink2"> {selectedRole?.company?.name} </span> <p className="text-[10px] lg:text-[11px] text-white"> {selectedRole?.company?.plan ? selectedRole?.company?.plan?.name : "Free plan"} </p> </div> </div> <div className="profileImg w-6 h-6 lg:w-[26px] ml-auto lg:ml-0"> <img src={`https://eventify.preview.uz/${user?.avatar?.path}`} alt="Profile" className="w-[26px] h-[26px] rounded-full object-cover" /> </div> </div> {/* Profile Dropdown */} {showProfileDropdown && ( <div ref={profileDropdownRef} className="absolute right-0 mt-2 w-64 bg-[#1E1E1E] rounded-xl shadow-lg border border-[#2A2A2A] z-50" > <div className="p-4 border-b border-[#2A2A2A]"> <p className="text-white font-semibold mb-2">Your Companies</p> <ul className="space-y-2"> {(user?.roles || []).map((role) => ( <li key={role.company.id}> <button className={`w-full text-left px-3 py-2 rounded-lg text-[#C4E1FE] hover:bg-pink2/10 transition ${selectedRole?.company?.id === role.company.id ? "bg-pink2/20" : "" }`} onClick={() => { changeCompany({ roleId: role.id }); setSelectedRole(role); setShowProfileDropdown(false); }} > {role.company.name}{" "} <span className="text-xs text-[#777C9D]"> ({role.company.plan?.name || "Free plan"}) </span> </button> </li> ))} </ul> </div> <div className="p-4"> <button className="w-full bg-pink2 text-white py-2 rounded-lg font-semibold hover:bg-pink2/90 transition" onClick={handleLogout} > Logout </button> </div> </div> )} </div> </div> </div> <InviteMemberModal isOpen={isInviteModalOpen} onClose={() => setIsInviteModalOpen(false)} /> <NotificationDetailModal notificationId={selectedNotificationId} isOpen={showDetailModal} onClose={() => setShowDetailModal(false)} /> </div> ); }; export default Navbar;
```

# src\Components\Notifications\NotificationDetailModal.jsx

```jsx
import React, { useEffect, useState } from "react"; import { motion, AnimatePresence } from "framer-motion"; import { FiX, FiBell, FiUserPlus, FiUser, FiFileText, FiCheck, } from "react-icons/fi"; import axiosInstance from "../../AxiosInctance/AxiosInctance"; import { format } from "date-fns"; const getNotificationIcon = (type) => { switch (type) { case "INVITATION": return <FiUserPlus className="text-lg text-pink2" />; case "MENTION": return <FiUser className="text-lg text-blue-400" />; case "UPDATE": return <FiFileText className="text-lg text-purple-400" />; case "TASK": return <FiCheck className="text-lg text-pink2" />; default: return <FiBell className="text-lg text-[#777C9D]" />; } }; const NotificationDetailModal = ({ notificationId, isOpen, onClose }) => { const [loading, setLoading] = useState(false); const [error, setError] = useState(null); const [notification, setNotification] = useState(null); const token = localStorage.getItem("token"); useEffect(() => { if (!notificationId || !isOpen) return; setLoading(true); setError(null); setNotification(null); axiosInstance .get(`/notification/${notificationId}`, { headers: { Authorization: `Bearer ${token}` }, }) .then((res) => { setNotification(res.data || null); }) .catch((err) => { setError("Failed to load notification."); }) .finally(() => setLoading(false)); }, [notificationId, isOpen, token]); // Close on ESC useEffect(() => { if (!isOpen) return; const handleKeyDown = (e) => { if (e.key === "Escape") onClose(); }; window.addEventListener("keydown", handleKeyDown); return () => window.removeEventListener("keydown", handleKeyDown); }, [isOpen, onClose]); if (!isOpen) return null; return ( <AnimatePresence> <motion.div className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} onClick={onClose} > <motion.div className="bg-[#1E1E1E] rounded-xl shadow-xl w-full max-w-md mx-4 sm:mx-0 p-6 relative overflow-y-auto max-h-[90vh]" initial={{ scale: 0.95, y: 40 }} animate={{ scale: 1, y: 0 }} exit={{ scale: 0.95, y: 40 }} onClick={(e) => e.stopPropagation()} > <button className="absolute top-4 right-4 text-[#777C9D] hover:text-white transition-colors" onClick={onClose} aria-label="Close" > <FiX size={22} /> </button> {loading ? ( <div className="flex flex-col items-center justify-center min-h-[200px] text-[#777C9D]"> Loading... </div> ) : error ? ( <div className="flex flex-col items-center justify-center min-h-[200px] text-red-400"> {error} </div> ) : !notification ? ( <div className="flex flex-col items-center justify-center min-h-[200px] text-[#777C9D]"> No details available. </div> ) : ( <div className="flex flex-col gap-4"> <div className="flex items-center gap-3"> {getNotificationIcon(notification.type)} <h2 className="text-lg font-semibold text-white"> Notification Details </h2> </div> <div className="text-white text-base break-words whitespace-pre-line"> {notification.text} </div> <div className="text-xs text-[#777C9D]"> {notification.createdAt && format( new Date(notification.createdAt), "MMM d, yyyy h:mm a" )} </div> {/* Additional fields */} <div className="mt-2 flex flex-col gap-2"> {notification.from && ( <div className="text-sm text-[#B0B0B0]"> <span className="font-semibold text-white">From:</span>{" "} {notification.from} </div> )} {notification.companyId && ( <div className="text-sm text-[#B0B0B0]"> <span className="font-semibold text-white"> Company ID: </span>{" "} {notification.companyId} </div> )} {/* Member details */} {notification.member && ( <div className="bg-[#23232a] rounded-lg p-3 mt-2"> <div className="font-semibold text-pink2 mb-1"> Member Details </div> <div className="text-xs text-[#B0B0B0] flex flex-col gap-1"> <div> <span className="font-semibold text-white">ID:</span>{" "} {notification.member.id} </div> <div> <span className="font-semibold text-white">Type:</span>{" "} {notification.member.type} </div> <div> <span className="font-semibold text-white"> Status: </span>{" "} {notification.member.status} </div> <div> <span className="font-semibold text-white">View:</span>{" "} {notification.member.view} </div> {/* <div> <span className="font-semibold text-white"> Company ID: </span>{" "} {notification.member.companyId} </div> <div> <span className="font-semibold text-white"> User ID: </span>{" "} {notification.member.userId} </div> */} {notification.member.permissions && ( <div> <span className="font-semibold text-white"> Permissions: </span>{" "} {notification.member.permissions.join(", ")} </div> )} <div> <span className="font-semibold text-white"> Created At: </span>{" "} {notification.member.createdAt && format( new Date(notification.member.createdAt), "MMM d, yyyy h:mm a" )} </div> {/* <div> <span className="font-semibold text-white"> Updated At: </span>{" "} {notification.member.updatedAt && format( new Date(notification.member.updatedAt), "MMM d, yyyy h:mm a" )} </div> */} </div> </div> )} </div> {/* Optionally, render more fields if available */} {notification.details && ( <div className="mt-2 text-sm text-[#B0B0B0]"> {notification.details} </div> )} </div> )} </motion.div> </motion.div> </AnimatePresence> ); }; export default NotificationDetailModal;
```

# src\Components\Notifications\NotificationsPage.jsx

```jsx
import React, { useState, useEffect } from "react"; import { motion } from "framer-motion"; import { FiBell, FiCheck, FiUser, FiUserPlus, FiFileText, FiStar, FiArrowLeft, FiChevronLeft, FiChevronRight, } from "react-icons/fi"; import { format } from "date-fns"; import { useNavigate } from "react-router-dom"; import axiosInstance from "../../AxiosInctance/AxiosInctance"; import NotificationDetailModal from "./NotificationDetailModal"; const NotificationsPage = () => { const navigate = useNavigate(); const token = localStorage.getItem("token"); const [notifications, setNotifications] = useState([]); const [loading, setLoading] = useState(true); const [currentPage, setCurrentPage] = useState(1); const [selectedFilter, setSelectedFilter] = useState("all"); const [selectedNotificationId, setSelectedNotificationId] = useState(null); const [showDetailModal, setShowDetailModal] = useState(false); const itemsPerPage = 5; const fetchNotifications = async () => { try { setLoading(true); const response = await axiosInstance.get("/notification", { headers: { Authorization: `Bearer ${token}` }, }); setNotifications(response?.data?.notifications || []); } catch (error) { console.error("Error fetching notifications:", error); } finally { setLoading(false); } }; useEffect(() => { fetchNotifications(); // Poll for new notifications every 30 seconds const interval = setInterval(fetchNotifications, 30000); return () => clearInterval(interval); }, [token]); const filters = [ { id: "all", label: "All" }, { id: "unread", label: "Unread" }, { id: "mentions", label: "Mentions" }, ]; const getNotificationIcon = (type) => { switch (type) { case "INVITATION": return <FiUserPlus className="text-lg text-pink2" />; case "MENTION": return <FiUser className="text-lg text-blue-400" />; case "UPDATE": return <FiFileText className="text-lg text-purple-400" />; case "TASK": return <FiCheck className="text-lg text-pink2" />; default: return <FiBell className="text-lg text-[#777C9D]" />; } }; const filteredNotifications = notifications.filter((notification) => { if (selectedFilter === "unread") return !notification.isRead; if (selectedFilter === "mentions") return notification.type === "MENTION"; return true; }); const totalPages = Math.ceil(filteredNotifications.length / itemsPerPage); const startIndex = (currentPage - 1) * itemsPerPage; const endIndex = startIndex + itemsPerPage; const currentNotifications = filteredNotifications.slice( startIndex, endIndex ); const handlePageChange = (pageNumber) => { setCurrentPage(pageNumber); }; const markAsRead = async (notificationId) => { try { await axiosInstance.put(`/notification/${notificationId}/read`, null, { headers: { Authorization: `Bearer ${token}` }, }); setNotifications((prev) => prev.map((notif) => notif.id === notificationId ? { ...notif, isRead: true } : notif ) ); } catch (error) { console.error("Error marking notification as read:", error); } }; const markAllAsRead = async () => { try { await axiosInstance.post("/notification/read-all", null, { headers: { Authorization: `Bearer ${token}` }, }); setNotifications((prev) => prev.map((notif) => ({ ...notif, isRead: true })) ); } catch (error) { console.error("Error marking all notifications as read:", error); } }; const handleInvitation = async (notification, status) => { try { await axiosInstance.patch( `/member/status/${notification.member.id}`, { status: status, }, { headers: { Authorization: `Bearer ${token}` }, } ); // Update notification UI to show the action was taken setNotifications((prev) => prev.map((notif) => notif.id === notification.id ? { ...notif, actionTaken: true } : notif ) ); // Mark notification as read markAsRead(notification.id); } catch (error) { console.error("Error handling invitation:", error); } }; const renderNotificationActions = (notification) => { if (notification.member.status === "NEW" && !notification.actionTaken) { return ( <div className="flex gap-2 mt-2"> <button onClick={(e) => { e.stopPropagation(); handleInvitation(notification, "ACTIVE"); }} className="px-3 py-1.5 bg-pink2 hover:bg-pink2/90 text-white text-sm rounded-lg transition-colors" > Accept </button> <button onClick={(e) => { e.stopPropagation(); handleInvitation(notification, "DECLINED"); }} className="px-3 py-1.5 bg-[#2A2A2A] hover:bg-[#3A3A3A] text-[#777C9D] text-sm rounded-lg transition-colors" > Decline </button> </div> ); } return null; }; return ( <div className="min-h-screen bg-[#1E1E1E] text-white p-6"> <div className="max-w-4xl mx-auto"> <div className="flex items-center justify-between mb-8"> <div className="flex items-center"> <button onClick={() => navigate(-1)} className="mr-4 p-2 hover:bg-[#2A2A2A] rounded-full transition-colors" > <FiArrowLeft size={24} /> </button> <h1 className="text-2xl font-semibold">Notifications</h1> </div> {notifications.some((n) => !n.isRead) && ( <motion.button initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={markAllAsRead} className="px-4 py-2 bg-[#2A2A2A] text-[#777C9D] rounded-xl hover:bg-[#3A3A3A] hover:text-white transition-all duration-300" > Mark all as read </motion.button> )} </div> <div className="bg-[#2A2A2A] rounded-xl overflow-hidden"> {/* Filters */} <div className="flex gap-2 p-4 border-b border-[#3A3A3A]"> {filters.map((filter) => ( <button key={filter.id} onClick={() => setSelectedFilter(filter.id)} className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${ selectedFilter === filter.id ? "bg-pink2 text-white" : "bg-[#1E1E1E] text-[#777C9D] hover:bg-[#3A3A3A] hover:text-white" }`} > {filter.label} </button> ))} </div> {/* Notifications List */} <div className="divide-y divide-[#3A3A3A]"> {loading ? ( <div className="p-8 text-center text-[#777C9D]"> Loading notifications... </div> ) : currentNotifications.length === 0 ? ( <div className="p-8 text-center text-[#777C9D]"> No notifications found </div> ) : ( currentNotifications.map((notification) => ( <motion.div key={notification.id} initial={{ opacity: 0 }} animate={{ opacity: 1 }} className={`p-4 flex items-start gap-3 hover:bg-[#2A2A2A] transition-colors cursor-pointer ${ !notification.isRead ? "bg-[#2A2A2A]/50" : "" }`} onClick={() => { setSelectedNotificationId(notification.id); setShowDetailModal(true); }} > <div className="mt-1 flex-shrink-0"> {getNotificationIcon(notification.type)} </div> <div className="flex-1 min-w-0"> <p className="text-white text-sm break-words"> {notification.text} </p> <p className="text-[#777C9D] text-xs mt-1"> {format( new Date(notification.createdAt), "MMM d, yyyy h:mm a" )} </p> {renderNotificationActions(notification)} </div> {!notification.isRead && ( <div className="w-2 h-2 rounded-full bg-pink2 mt-2 flex-shrink-0" /> )} </motion.div> )) )} </div> {/* Pagination */} {totalPages > 1 && ( <div className="flex justify-center items-center gap-2 p-4 border-t border-[#3A3A3A]"> <button onClick={() => handlePageChange(currentPage - 1)} disabled={currentPage === 1} className="p-2 rounded-lg hover:bg-[#3A3A3A] disabled:opacity-50 disabled:cursor-not-allowed" > <FiChevronLeft /> </button> {Array.from({ length: totalPages }, (_, i) => i + 1).map( (page) => ( <button key={page} onClick={() => handlePageChange(page)} className={`w-8 h-8 rounded-lg text-sm font-medium ${ currentPage === page ? "bg-pink2 text-white" : "hover:bg-[#3A3A3A] text-[#777C9D]" }`} > {page} </button> ) )} <button onClick={() => handlePageChange(currentPage + 1)} disabled={currentPage === totalPages} className="p-2 rounded-lg hover:bg-[#3A3A3A] disabled:opacity-50 disabled:cursor-not-allowed" > <FiChevronRight /> </button> </div> )} </div> </div> <NotificationDetailModal notificationId={selectedNotificationId} isOpen={showDetailModal} onClose={() => setShowDetailModal(false)} /> </div> ); }; export default NotificationsPage;
```

# src\Components\Pagination and selecter\Selecter.jsx

```jsx
import { AnimatePresence,motion } from 'framer-motion'; import React from 'react' import { FaRegTrashAlt } from 'react-icons/fa'; import { GoFileSymlinkFile } from 'react-icons/go'; import { IoIosArrowForward } from 'react-icons/io'; import { IoClose } from 'react-icons/io5'; const Selecter = ({ selectedTasks, setItemsPerPage, setCurrentPage,itemsPerPage,currentPage,filteredTasks,setSelectedTasks,handleMoveTask,setDeleteModalOpen }) => { return ( <div> <AnimatePresence mode="wait"> {(selectedTasks.length > 0 || true) && ( <motion.div key={ selectedTasks.length > 0 ? "actions-selected" : "actions-pagination" } initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 20 }} transition={{ duration: 0.2, ease: "easeInOut" }} className=" flex mt-[90px] gap-[10px]" > {selectedTasks.length > 0 && ( <div className="w-1/2"> <div className="font-radioCanada flex deleter bg-grayDash rounded-[14px] h-[64px]"> <div className="numberOfSelectedTasks bg-pink2 flex items-center rounded-s-[14px] px-[27px]"> <p className="text-white">{selectedTasks.length}</p> </div> <div className="actions flex items-center text-white justify-between w-full pl-[23px] pr-[15px] border-r my-[11px] border-gray"> <div className="textPart"> <h2>Selected tasks</h2> </div> <div className="iconPart flex gap-[24px]"> <div className="moave text-pink2 cursor-pointer hover:opacity-80" onClick={handleMoveTask} > <GoFileSymlinkFile className="m-auto" /> <p className="text-[12px]">Move</p> </div> <div className="delete text-[#C6C8D6] cursor-pointer hover:text-pink2" onClick={() => setDeleteModalOpen(true)} > <FaRegTrashAlt className="m-auto" /> <p className="text-[12px]">Delete</p> </div> </div> </div> <div className="close flex items-center px-[16px]"> <IoClose className="text-[25px] text-white2 cursor-pointer" onClick={() => setSelectedTasks([])} /> </div> </div> </div> )} <div className={`${selectedTasks.length > 0 ? "w-1/2" : "w-full"} `}> <div className="pagination bg-grayDash flex items-center rounded-[14px] px-[18px] justify-between h-[64px]"> <div className="shpp flex items-center gap-[12px]"> <p className="text-white2">Show per page</p> <div className="select rounded-[14px]"> <select value={itemsPerPage} onChange={(e) => { setItemsPerPage(Number(e.target.value)); setCurrentPage(1); }} className="rounded-[3px] bg-grayDash border border-gray text-white2 w-auto" > <option value={5}>5</option> <option value={10}>10</option> <option value={20}>20</option> <option value={30}>30</option> <option value={40}>40</option> <option value={50}>50</option> <option value={80}>80</option> <option value={100}>100</option> </select> </div> </div> <div className="pages flex items-center gap-[12px]"> <p className="text-white2"> Page {currentPage} of{" "} {Math.ceil(filteredTasks.length / itemsPerPage)} </p> <div> <div className="flex items-center gap-[6px]"> <div className="prev bg-grayDash rounded-[14px] flex items-center justify-center cursor-pointer p-[6px] hover:bg-gray" onClick={() => currentPage > 1 && setCurrentPage((prev) => prev - 1) } > <IoIosArrowForward className="text-white2 rotate-180 text-[20px]" /> </div> <div className="next bg-grayDash rounded-[14px] flex items-center justify-center cursor-pointer p-[6px] hover:bg-gray" onClick={() => currentPage < Math.ceil(filteredTasks.length / itemsPerPage) && setCurrentPage((prev) => prev + 1) } > <IoIosArrowForward className="text-pink2 text-[20px]" /> </div> </div> </div> </div> </div> </div> </motion.div> )} </AnimatePresence> </div> ) } export default Selecter
```

# src\Components\Routes\ProtectedRoutes.jsx

```jsx
import React from "react"; import { Navigate } from "react-router-dom"; // Mock authentication check const isAuthenticated = () => { return localStorage.getItem("token") !== null; // Assuming token is stored in localStorage }; const ProtectedRoute = ({ element }) => { return isAuthenticated() ? element : <Navigate to="/login" replace />; }; export default ProtectedRoute;
```

# src\Components\Settings\Settings.jsx

```jsx
import React, { useState, useEffect, useRef, useContext } from 'react'; import { motion } from 'framer-motion'; import { FiUser, FiLock, FiBriefcase, FiSave, FiEdit2, FiCamera, FiEye, FiEyeOff, FiArrowLeft } from 'react-icons/fi'; import axiosInstance from '../../AxiosInctance/AxiosInctance'; import { AuthContext } from '../../Auth/AuthContext'; import { useNavigate } from 'react-router-dom'; const Settings = () => { const [activeTab, setActiveTab] = useState('profile'); const [isLoading, setIsLoading] = useState(true); const [userData, setUserData] = useState(null); const [form, setForm] = useState({ firstName: '', lastName: '', currentPassword: '', newPassword: '', confirmPassword: '' }); const [isEditing, setIsEditing] = useState(false); const [avatarFile, setAvatarFile] = useState(null); const [avatarPreview, setAvatarPreview] = useState(null); const fileInputRef = useRef(null); const token = localStorage.getItem('token'); const { updatePassword } = useContext(AuthContext); const navigate = useNavigate(); // Password visibility state const [showCurrentPassword, setShowCurrentPassword] = useState(false); const [showNewPassword, setShowNewPassword] = useState(false); useEffect(() => { const fetchUserData = async () => { try { const response = await axiosInstance.get('/user/info', { headers: { Authorization: `Bearer ${token}` } }); setUserData(response.data); // Update form with user data setForm(prev => ({ ...prev, firstName: response.data.firstName || '', lastName: response.data.lastName || '' })); } catch (error) { console.error('Error fetching user data:', error); } finally { setIsLoading(false); } }; fetchUserData(); }, []); const handleChange = (e) => { const { name, value } = e.target; setForm(prev => ({ ...prev, [name]: value })); }; const handleAvatarChange = async (event) => { const file = event.target.files[0]; if (file) { try { const formData = new FormData(); formData.append('avatar', file); // 'avatar' matches backend expectation await axiosInstance.patch('user/change-avatar', formData, { headers: { 'Content-Type': 'multipart/form-data', Authorization: `Bearer ${token}` } }); // Refetch user data to get updated avatar const response = await axiosInstance.get('/user/info', { headers: { Authorization: `Bearer ${token}` } }); setUserData(response.data); setAvatarPreview(null); setAvatarFile(null); } catch (error) { console.error('Error uploading avatar:', error); } } }; const handleSave = async () => { try { await axiosInstance.patch('/user/update', { firstName: form.firstName, lastName: form.lastName }, { headers: { Authorization: `Bearer ${token}` } }); setIsEditing(false); const response = await axiosInstance.get('/user/info', { headers: { Authorization: `Bearer ${token}` } }); setUserData(response.data); } catch (error) { console.error('Error saving changes:', error); } }; const handleChangePassword = async () => { if (!form.currentPassword || !form.newPassword) { alert('Please fill in both current and new password.'); return; } try { await updatePassword({ oldPassword: form.currentPassword, newPassword: form.newPassword, }); setForm(prev => ({ ...prev, currentPassword: '', newPassword: '', confirmPassword: '' })); } catch (err) { // Error handled in context } }; const tabContent = { profile: ( <div className="space-y-6"> <div className="flex justify-end mb-4"> <button onClick={() => setIsEditing(!isEditing)} className="flex items-center gap-2 px-4 py-2 rounded-lg bg-[#23272F] text-pink2 hover:bg-pink2/10 transition-colors" > <FiEdit2 /> {isEditing ? 'Cancel' : 'Edit Profile'} </button> </div> <div className="flex items-center justify-center mb-8"> <div className="relative group"> <div className="w-24 h-24 rounded-full overflow-hidden bg-pink2/20 flex items-center justify-center"> {avatarPreview || userData?.avatar?.path ? ( <img src={avatarPreview || `https://eventify.preview.uz/${userData.avatar.path}`} alt="Profile" className="w-full h-full object-cover" /> ) : ( <span className="text-2xl font-bold text-white"> {userData?.email?.[0]?.toUpperCase() || '?'} </span> )} </div> {isEditing && ( <button onClick={() => fileInputRef.current?.click()} className="absolute bottom-0 right-0 bg-pink2 text-white p-2 rounded-full hover:bg-pink2/80 transition-colors" > <FiCamera size={16} /> </button> )} <input ref={fileInputRef} type="file" accept="image/*" onChange={handleAvatarChange} className="hidden" /> </div> </div> {/* Email field - always readonly */} <div className="relative group"> <label className="block text-[#C4E1FE] mb-2 font-medium">Email</label> <input type="email" value={userData?.email || ''} readOnly className="w-full bg-[#23272F] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white opacity-70 cursor-not-allowed" /> </div> {/* Name fields */} <div className="grid grid-cols-2 gap-4"> <div className="relative group"> <label className="block text-[#C4E1FE] mb-2 font-medium">First Name</label> <input type="text" name="firstName" value={form.firstName} onChange={handleChange} disabled={!isEditing} className={`w-full bg-[#23272F] border-2 ${ isEditing ? 'border-[#3A3A3A] focus:border-pink2' : 'border-transparent' } rounded-xl py-3 px-4 text-white transition-all ${ !isEditing ? 'cursor-not-allowed opacity-70' : '' }`} /> </div> <div className="relative group"> <label className="block text-[#C4E1FE] mb-2 font-medium">Last Name</label> <input type="text" name="lastName" value={form.lastName} onChange={handleChange} disabled={!isEditing} className={`w-full bg-[#23272F] border-2 ${ isEditing ? 'border-[#3A3A3A] focus:border-pink2' : 'border-transparent' } rounded-xl py-3 px-4 text-white transition-all ${ !isEditing ? 'cursor-not-allowed opacity-70' : '' }`} /> </div> </div> {/* Roles section */} <div className="bg-[#23272F]/50 rounded-xl p-4 border border-[#3A3A3A]"> <h3 className="text-[#C4E1FE] font-medium mb-3">Roles & Companies</h3> <div className="space-y-3"> {userData?.roles?.map((role) => ( <div key={role.id} className="flex items-center justify-between bg-[#1E1E1E] p-3 rounded-lg"> <div> <span className="text-pink2 font-medium">{role.type}</span> <p className="text-[#C4E1FE] text-sm">{role.company?.name}</p> </div> <span className="text-xs bg-pink2/20 text-pink2 px-2 py-1 rounded"> {role.member?.status || 'ACTIVE'} </span> </div> ))} </div> </div> {isEditing && ( <motion.button onClick={handleSave} whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} className="w-full py-4 bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl font-bold text-lg" > <FiSave className="inline mr-2" /> Save Changes </motion.button> )} </div> ), security: ( <div className="space-y-6"> <div className="relative group"> <label className="block text-[#C4E1FE] mb-2 font-medium">Current Password</label> <div className="relative"> <input type={showCurrentPassword ? "text" : "password"} name="currentPassword" value={form.currentPassword} onChange={handleChange} className="w-full bg-[#23272F] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all pr-12" /> <button type="button" className="absolute right-3 top-1/2 -translate-y-1/2 text-gray" onClick={() => setShowCurrentPassword((v) => !v)} tabIndex={-1} > {showCurrentPassword ? <FiEyeOff /> : <FiEye />} </button> </div> </div> <div className="relative group"> <label className="block text-[#C4E1FE] mb-2 font-medium">New Password</label> <div className="relative"> <input type={showNewPassword ? "text" : "password"} name="newPassword" value={form.newPassword} onChange={handleChange} className="w-full bg-[#23272F] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all pr-12" /> <button type="button" className="absolute right-3 top-1/2 -translate-y-1/2 text-gray2" onClick={() => setShowNewPassword((v) => !v)} tabIndex={-1} > {showNewPassword ? <FiEyeOff /> : <FiEye />} </button> </div> </div> <button onClick={handleChangePassword} className="w-full py-4 bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl font-bold text-lg flex items-center justify-center gap-2" > <FiSave className="inline" /> Change Password </button> </div> ) }; return ( <div className="min-h-screen bg-[#181A20] py-12 px-4"> {/* Back Button */} <button onClick={() => navigate(-1)} className="fixed top-8 left-8 z-50 flex items-center gap-2 px-4 py-2 bg-[#23272F] text-pink2 border border-pink2 rounded-full shadow-lg hover:bg-pink2 hover:text-white transition-all duration-200" style={{ fontWeight: 600, fontSize: '1.1rem' }} > <FiArrowLeft className="text-xl" /> Back </button> {/* Background gradients */} <div className="absolute inset-0 z-0"> <div className="absolute inset-0 bg-gradient-to-br from-pink2/10 via-[#23272F]/40 to-[#181A20]" /> <div className="absolute top-10 left-10 w-64 h-64 bg-pink2/20 rounded-full blur-3xl" /> <div className="absolute bottom-0 right-0 w-96 h-96 bg-[#23272F]/30 rounded-full blur-3xl" /> </div> {/* Content */} <div className="relative z-10 max-w-4xl mx-auto"> <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="bg-[#1E1E1E]/60 backdrop-blur-xl rounded-2xl p-8 border border-[#3A3A3A]" > <h1 className="text-3xl font-bold text-white mb-8">Settings</h1> {/* Tabs */} <div className="flex space-x-6 mb-8 border-b border-[#3A3A3A] pb-4"> {[ { id: 'profile', icon: FiUser, label: 'Profile' }, { id: 'security', icon: FiLock, label: 'Security' }, ].map(tab => ( <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${ activeTab === tab.id ? 'text-pink2 bg-pink2/10' : 'text-[#C4E1FE] hover:text-white' }`} > <tab.icon /> <span>{tab.label}</span> </button> ))} </div> {/* Tab Content */} <div className="mb-8"> {tabContent[activeTab]} </div> {/* Save Button */} </motion.div> </div> </div> ); }; export default Settings;
```

# src\Components\Sidebar\Members.jsx

```jsx
import React, { useEffect } from "react"; import { useQuery } from "@tanstack/react-query"; import testMemImg from "../../assets/5d3c4f61d58fc049b8def14e6d66662b.png"; import InviteMemberModal from "../Modals/InviteMemberModal"; import { useState } from "react"; import axiosInstance from "../../AxiosInctance/AxiosInctance"; const Members = ({role}) => { const [isInviteModalOpen, setIsInviteModalOpen] = useState(false); const [showAll, setShowAll] = useState(false); const token = localStorage.getItem("token"); const { isLoading, error, data: membersData, } = useQuery({ queryKey: ["members"], queryFn: async () => { const response = await axiosInstance.get("/member", { headers: { Authorization: `Bearer ${token}`, }, }); return response.data; }, enabled: role != "member" && !!token, staleTime: 300000, cacheTime: 600000, // cache for 10 minutes refetchOnWindowFocus: false, // don't refetch when window/tab is focused }); const [members, setMembers] = useState([]); useEffect(() => { if (membersData) { setMembers(membersData); } }, [membersData]); const displayedMembers = showAll ? members : members.slice(0, 3); // if (isLoading && role === "MEMBER") { // return ( // <div className="bg-grayDash py-[16px] px-[17px] rounded-[17px] font-radioCanada mt-[18px] shadow-xl"> // <div className="text-white text-center">Loading members...</div> // </div> // ); // } return ( <div> {(role === "author" || role === "admin") ? ( <div className="bg-grayDash py-[16px] px-[17px] rounded-[17px] font-radioCanada mt-[18px] shadow-xl"> <div className="frLine flex justify-between items-center"> <h1 className="text-gray2 font-radioCanada text-[16px]">Members</h1> {members.length > 2 && ( <button className="text-white text-[13px] bg-black py-[7px] px-[15px] rounded-[9px]" onClick={() => setShowAll(!showAll)} > {showAll ? "show less" : "see all"} </button> )} </div> <div className="secLine my-[12px] space-y-[4px]"> {displayedMembers.length > 0 ? ( displayedMembers.map((member, index) => ( <div key={member.id || index} className="member flex items-center gap-[12px]" > <div className="memImg"> <img src={ member.user.avatar?.path ? `https://eventify.preview.uz/${member.user.avatar?.path}` : testMemImg } alt={ member.user.firstName ? member.user.firstName : "Member Image" } className="w-[28.8px] h-[28.8px] rounded-full object-cover" /> </div> <div className="memText"> <p className="text-[14px] text-white "> {member.user.firstName ? member.user.firstName + " " + member.user.lastName : "Unknown User"} </p> <p className="text-[11px] text-gray2" style={{ maxWidth: "140px", overflow: "hidden", textOverflow: "ellipsis", whiteSpace: "nowrap", display: "block" }} title={member.user.email || "No email"} > {member.user.email || "No email"} </p> </div> </div> )) ) : ( <div className="text-gray2 text-center py-4">No members found</div> )} </div> </div>): <div><p className="text-gray2 text-[14px]"></p></div> } <InviteMemberModal isOpen={isInviteModalOpen} onClose={() => setIsInviteModalOpen(false)} /> </div> ); }; export default Members;
```

# src\Components\Sidebar\Sheets\CreateEditSheetFormModal.jsx

```jsx
import React, { useCallback, useContext, useState } from "react"; import { AuthContext } from "../../../Auth/AuthContext"; import { useParams } from "react-router-dom"; import { IoClose } from "react-icons/io5"; import { FaTrash } from "react-icons/fa"; import { IoMdCheckbox } from "react-icons/io"; import { RiCheckboxBlankLine } from "react-icons/ri"; import { motion, AnimatePresence } from "framer-motion"; import { FiX } from "react-icons/fi"; import { BsTable } from "react-icons/bs"; import axiosInstance from "../../../AxiosInctance/AxiosInctance"; import swal from "sweetalert"; const ColumnType = { SELECT: "SELECT", TEXT: "TEXT", NUMBER: "NUMBER", DATE: "DATE", CHECK: "CHECK", MEMEBERS:"MEMBER", }; const CreateSheetFormModal = ({ handleToggleModal, isOpen, refetch, isEditing, editingSheetId, editingSheetOrder, editingSheetName, onSheetCreated, // Add this prop }) => { const token = localStorage.getItem("token"); const { id } = useParams(); const { sheetId } = useParams(); const [columns, setColumns] = useState([ { name: "Name", type: ColumnType.TEXT, show: true, isDefault: true, sheetId: sheetId, }, { name: "Status", type: ColumnType.SELECT, show: true, isDefault: true, sheetId: sheetId, selects: [ { title: "Select the status", color: "black", options: [{ name: "Pending", color: "#C6C8D6" }], }, ], }, { name: "Priority", type: ColumnType.SELECT, show: true, isDefault: true, sheetId: sheetId, }, { name: "Link", type: ColumnType.TEXT, show: true, isDefault: true, sheetId: sheetId, }, { name: "Price", type: ColumnType.NUMBER, show: true, isDefault: true, sheetId: sheetId, }, { name: "Order", type: ColumnType.CHECK, show: false, isDefault: true, sheetId: sheetId, }, ]); const [sheet, setSheet] = useState({ name: !isEditing ? "" : editingSheetName, workspaceId: id, columns: columns, }); const { createSheet } = useContext(AuthContext); const handleAddColumn = () => { setColumns([ ...columns, { name: "", type: ColumnType.TEXT, show: true, isDefault: false, sheetId: sheetId, }, ]); }; const handleColumnChange = (index, key, value) => { const updatedColumns = [...columns]; updatedColumns[index][key] = value; setColumns(updatedColumns); }; const handleToggleColumn = (index) => { const updatedColumns = [...columns]; updatedColumns[index].show = !updatedColumns[index].show; setColumns(updatedColumns); }; const handleDeleteColumn = (index) => { const updatedColumns = columns.filter((_, i) => i !== index); setColumns(updatedColumns); }; const handleSubmit = async () => { // Validate workspaceId if (!sheet.workspaceId) { swal({ title: "Error !", text: `No workspace selected. Please select or create a workspace first.`, icon: "error", button: "close", }); return; } const updatedSheet = { ...sheet, columns: columns.filter((column) => column.show), }; const newSheet = await createSheet(updatedSheet); setSheet({ name: "", workspaceId: id, columns }); const resetColumns = columns.map((column) => ({ ...column, show: true })); setColumns(resetColumns); refetch(); if (onSheetCreated && newSheet) { onSheetCreated(newSheet); } handleToggleModal(); }; const handleEditSheet = useCallback(async () => { try { await axiosInstance.put( `/sheet/${editingSheetId}`, { name: sheet.name, order: editingSheetOrder }, { headers: { Authorization: ` Bearer ${token}`, }, } ); setSheet({ name: "", sheetId: id }); handleToggleModal(); refetch(); } catch (error) { console.error("Error creating/updating workspace:", error); } }, [ createSheet, sheet, isEditing, editingSheetId, handleToggleModal, id, editingSheetOrder, token, refetch, ]); const handleChange = (e) => { setSheet((prevSheet) => ({ ...prevSheet, [e.target.name]: e.target.value, })); }; return ( <AnimatePresence> {isOpen && ( <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="fixed inset-0 z-50 flex items-center justify-center p-4" > {/* Backdrop */} <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="absolute inset-0 bg-black/50 backdrop-blur-sm" onClick={handleToggleModal} /> {/* Modal */} <motion.div initial={{ scale: 0.95, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.95, opacity: 0 }} transition={{ type: "spring", duration: 0.5 }} className="relative bg-[#1E1E1E] rounded-2xl w-full max-w-md overflow-hidden" > {/* Glass effect top banner */} <div className="absolute inset-x-0 top-0 h-32 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <div className="relative p-6"> {/* Close button */} <motion.button whileHover={{ scale: 1.1, rotate: 90 }} whileTap={{ scale: 0.9 }} onClick={handleToggleModal} className="absolute top-4 right-4 text-gray2 hover:text-white transition-colors" > <FiX size={24} /> </motion.button> {/* Header */} <div className="flex items-center gap-4 mb-8"> <motion.div whileHover={{ scale: 1.05 }} className="w-14 h-14 rounded-2xl bg-gradient-to-br from-pink2/20 to-pink2/10 flex items-center justify-center" > <BsTable className="text-pink2 text-2xl" /> </motion.div> <div> <h2 className="text-2xl font-semibold text-white mb-1"> {!isEditing ? "Create New Sheet" : "Edit Sheet"} </h2> <p className="text-[#777C9D] text-sm"> {!isEditing ? "Add a new sheet to your workspace" : "Update your sheet details"} </p> </div> </div> {/* Form */} <div className="space-y-6"> <div className="space-y-2"> <label className="block text-sm font-medium text-[#777C9D]"> Sheet Name </label> <motion.div whileFocus={{ scale: 1.02 }} className="relative group" > <input type="text" name="name" value={sheet.name} onChange={handleChange} className="w-full bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" placeholder="Enter sheet name" /> <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </motion.div> </div> {!isEditing && ( <div className="space-y-4"> <div className="flex items-center justify-between"> <h3 className="text-lg text-white font-semibold"> Columns </h3> <motion.button whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }} onClick={handleAddColumn} className="text-pink2 hover:text-pink2/80 transition-colors text-sm font-medium" > + Add Column </motion.button> </div> <div className="space-y-4 max-h-[40vh] overflow-y-auto custom-scrollbar pr-2"> {columns.map((column, colIndex) => ( <motion.div key={colIndex} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -20 }} className="bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl p-4 space-y-4" > <div className="flex items-center justify-between"> {column.isDefault ? ( <span className="text-white">{column.name}</span> ) : ( <input type="text" value={column.name} onChange={(e) => handleColumnChange( colIndex, "name", e.target.value ) } className="bg-transparent border-b border-[#3A3A3A] text-white focus:outline-none focus:border-pink2 w-full" placeholder="Column name" /> )} <div className="flex items-center gap-2"> <motion.button whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.9 }} onClick={() => handleToggleColumn(colIndex)} className="text-[#777C9D] hover:text-white transition-colors" > {column.show ? ( <IoMdCheckbox size={20} /> ) : ( <RiCheckboxBlankLine size={20} /> )} </motion.button> {!column.isDefault && ( <motion.button whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.9 }} onClick={() => handleDeleteColumn(colIndex)} className="text-red-500 hover:text-red-400 transition-colors" > <FaTrash size={16} /> </motion.button> )} </div> </div> {!column.isDefault && ( <select value={column.type} onChange={(e) => handleColumnChange( colIndex, "type", e.target.value ) } className="w-full bg-[#1E1E1E] text-[#777C9D] rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-pink2/50" > {Object.values(ColumnType).map((type) => ( <option key={type} value={type}> {type} </option> ))} </select> )} </motion.div> ))} </div> </div> )} <div className="flex gap-3 pt-2"> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={handleToggleModal} className="flex-1 bg-[#2A2A2A] text-[#777C9D] rounded-xl py-3.5 font-medium transition-all duration-300 hover:bg-[#3A3A3A] hover:text-white" > Cancel </motion.button> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={isEditing ? handleEditSheet : handleSubmit} className="flex-1 bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl py-3.5 font-medium transition-all duration-300 hover:shadow-lg hover:shadow-pink2/20 relative overflow-hidden group" > <span className="relative z-10"> {isEditing ? "Save Changes" : "Create Sheet"} </span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </motion.button> </div> </div> </div> </motion.div> </motion.div> )} </AnimatePresence> ); }; export default CreateSheetFormModal;
```

# src\Components\Sidebar\Sheets\Selects.jsx

```jsx
import React from 'react' import { RiCheckboxBlankCircleFill } from 'react-icons/ri' const Selects = ({bgSelect,value,textColor}) => { return ( <div className={`flex items-center gap-[3px] rounded-[3px] pl-[6px] w-[120px] py-[2px] font-radioCanada font-[500] `} style={{backgroundColor:bgSelect,color:textColor}}> <RiCheckboxBlankCircleFill />{value} </div> ) } export default Selects
```

# src\Components\Sidebar\Sheets\SheetCalendar.jsx

```jsx
import React, { useState } from "react"; import Calendar from "react-calendar"; import { Badge, Popover, Tooltip, Avatar } from "antd"; import "react-calendar/dist/Calendar.css"; const SheetCalendar = ({ tasks }) => { const [selectedDateTasks, setSelectedDateTasks] = useState([]); const [calendarPopoverOpen, setCalendarPopoverOpen] = useState(false); const [calendarPopoverDate, setCalendarPopoverDate] = useState(null); return ( <div className="calendar-view mt-4 bg-grayDash rounded-xl p-4 relative"> <Calendar tileContent={({ date, view }) => { const dayTasks = tasks.filter( (task) => task.date1 && new Date(task.date1).toDateString() === date.toDateString() ); if (dayTasks.length > 0) { return ( <Badge count={dayTasks.length} style={{ backgroundColor: "#e11d48", marginTop: 2 }} > <ul className="list-none p-0 m-0"> {dayTasks.slice(0, 2).map((task) => ( <li key={task.id} className="text-xs text-pink2 font-medium truncate" > {task.name} </li> ))} {dayTasks.length > 2 && ( <li className="text-xs text-gray4"> +{dayTasks.length - 2} more </li> )} </ul> </Badge> ); } return null; }} onClickDay={(date, e) => { const dayTasks = tasks.filter( (task) => task.date1 && new Date(task.date1).toDateString() === date.toDateString() ); if (dayTasks.length > 0) { setSelectedDateTasks(dayTasks); setCalendarPopoverDate(date); setCalendarPopoverOpen(true); } }} /> <Popover open={calendarPopoverOpen} onOpenChange={setCalendarPopoverOpen} content={ <div className="min-w-[220px] max-w-[320px]"> <div className="font-bold text-pink2 mb-2"> Tasks for{" "} {calendarPopoverDate ? calendarPopoverDate.toLocaleDateString() : ""} </div> <ul className="divide-y divide-gray3"> {selectedDateTasks.map((task) => ( <li key={task.id} className="py-2 px-2"> <div className="flex items-center gap-2"> <span className="font-semibold text-white text-sm"> {task.name} </span> <span className={`text-xs rounded px-2 py-1 ${ task.status === "done" ? "bg-green-200 text-green-700" : task.status === "in progress" ? "bg-yellow-200 text-yellow-700" : task.status === "todo" ? "bg-gray-300 text-gray-700" : "bg-pink2/10 text-pink2" }`} > {task.status} </span> </div> <div className="text-gray2 text-xs">{task.description}</div> <div className="flex gap-2 mt-1 text-xs text-gray4 items-center"> <span> Due:{" "} {task.date1 ? new Date(task.date1).toLocaleDateString() : "N/A"} </span> {task.assignee && ( <Tooltip title={task.assignee}> <Avatar size={18} className="ml-2 bg-pink2/80 text-white font-bold" > {typeof task.assignee === "string" ? task.assignee[0]?.toUpperCase() : "?"} </Avatar> </Tooltip> )} </div> </li> ))} </ul> </div> } title={null} trigger="click" placement="right" arrow={false} > {/* Hidden trigger, popover is controlled by state */} <span style={{ display: "none" }} /> </Popover> </div> ); }; export default SheetCalendar;
```

# src\Components\Sidebar\Sheets\SheetList.jsx

```jsx
import React, { useState } from "react"; import { Tooltip, Avatar } from "antd"; import { RiCheckboxBlankLine, RiCheckboxLine } from "react-icons/ri"; import { GoFileSymlinkFile } from "react-icons/go"; import { FaRegTrashAlt } from "react-icons/fa"; import { IoClose } from "react-icons/io5"; import AnimatedNoData from "./SheetsSmallComps/AnimatedNoData"; const SheetList = ({ tasks = [], onEditTask, onDeleteTask, onMoveTask, loading, }) => { const [selectedTasks, setSelectedTasks] = useState([]); const [itemsPerPage, setItemsPerPage] = useState(10); const [currentPage, setCurrentPage] = useState(1); // Pagination logic const indexOfLastItem = currentPage * itemsPerPage; const indexOfFirstItem = indexOfLastItem - itemsPerPage; const paginatedTasks = tasks.slice(indexOfFirstItem, indexOfLastItem); const totalPages = Math.ceil(tasks.length / itemsPerPage); // Selection logic const handleTaskSelect = (taskId) => { setSelectedTasks((prev) => prev.includes(taskId) ? prev.filter((id) => id !== taskId) : [...prev, taskId] ); }; const handleSelectAllTasks = () => { if (selectedTasks.length === paginatedTasks.length) { setSelectedTasks([]); } else { setSelectedTasks(paginatedTasks.map((task) => task.id)); } }; // Bulk actions const handleDeleteSelectedTasks = () => { if (onDeleteTask) { selectedTasks.forEach((taskId) => onDeleteTask(taskId)); setSelectedTasks([]); } }; const handleMoveTask = () => { if (selectedTasks.length === 1 && onMoveTask) { onMoveTask(selectedTasks[0]); setSelectedTasks([]); } }; if (loading) { return ( <div className="mt-[26px]"> <div className="animate-pulse bg-grayDash rounded-[12px] h-[400px] flex items-center justify-center"> <div className="text-gray4 text-[20px] font-radioCanada"> Loading... </div> </div> </div> ); } if (!tasks.length) { return <AnimatedNoData message="No tasks found." />; } return ( <div className="mt-[26px] custom-scrollbar"> <div className="overflow-x-auto rounded-[12px] custom-scrollbar" style={{ maxWidth: "100%" }} > <table className="bg-grayDash font-radioCanada w-full min-w-max"> <thead className="border-1 text-white"> <tr className="flex border-[black] border-b"> <td className="w-[48px] py-[16px] px-[11px] flex items-center justify-center border-r border-r-[black] cursor-pointer" onClick={handleSelectAllTasks} > <div className="w-[20px] h-[20px] flex items-center justify-center"> {selectedTasks.length === paginatedTasks.length && paginatedTasks.length > 0 ? ( <RiCheckboxLine className="text-pink2 w-[20px] h-[20px]" style={{ strokeWidth: "0.5" }} /> ) : ( <RiCheckboxBlankLine className="text-gray4 w-[20px] h-[20px]" style={{ strokeWidth: "0.5" }} /> )} </div> </td> <td className="flex-1 py-[16px] px-[11px] text-left">Task</td> <td className="py-[16px] px-[11px] text-left">Status</td> <td className="py-[16px] px-[11px] text-left">Due</td> <td className="py-[16px] px-[11px] text-left">Assignee</td> <td className="py-[16px] px-[11px] text-left">Actions</td> </tr> </thead> <tbody> {paginatedTasks.map((task) => ( <tr key={task.id} className="flex border-b border-gray3 hover:bg-grayDash transition" > <td className="w-[48px] py-4 px-[11px] flex items-center justify-center"> <div onClick={() => handleTaskSelect(task.id)}> {selectedTasks.includes(task.id) ? ( <RiCheckboxLine className="text-pink2 w-[20px] h-[20px]" style={{ strokeWidth: "0.5" }} /> ) : ( <RiCheckboxBlankLine className="text-gray4 w-[20px] h-[20px]" style={{ strokeWidth: "0.5" }} /> )} </div> </td> <td className="flex-1 py-4 px-[11px] text-white font-semibold"> {task.name || "Untitled Task"} </td> <td className="py-4 px-[11px]"> <span className={`text-xs rounded px-2 py-1 ${ task.status === "done" ? "bg-green-200 text-green-700" : task.status === "in progress" ? "bg-yellow-200 text-yellow-700" : task.status === "todo" ? "bg-gray-300 text-gray-700" : "bg-pink2/10 text-pink2" }`} > {task.status} </span> </td> <td className="py-4 px-[11px] text-gray2 text-sm"> {task.date1 ? new Date(task.date1).toLocaleDateString() : "N/A"} </td> <td className="py-4 px-[11px]"> {task.assignee && ( <Tooltip title={task.assignee}> <Avatar size={20} className="ml-2 bg-pink2/80 text-white font-bold" > {typeof task.assignee === "string" ? task.assignee[0]?.toUpperCase() : "?"} </Avatar> </Tooltip> )} </td> <td className="py-4 px-[11px] flex gap-2"> <button className="text-pink2 hover:underline text-xs" onClick={() => onEditTask && onEditTask(task.id)} > Edit </button> <button className="text-red-400 hover:underline text-xs" onClick={() => onDeleteTask && onDeleteTask(task.id)} > Delete </button> </td> </tr> ))} </tbody> </table> </div> {/* Bulk actions and pagination */} <div className="mt-4 flex flex-col md:flex-row gap-4 items-center justify-between"> {selectedTasks.length > 0 && ( <div className="font-radioCanada flex deleter bg-grayDash rounded-[14px] h-[64px] w-full md:w-auto"> <div className="numberOfSelectedTasks bg-pink2 flex items-center rounded-s-[14px] px-[27px]"> <p className="text-white">{selectedTasks.length}</p> </div> <div className="actions flex items-center text-white justify-between w-full pl-[23px] pr-[15px] border-r my-[11px] border-gray"> <div className="textPart"> <h2>Selected tasks</h2> </div> <div className="iconPart flex gap-[24px]"> <div className="moave text-pink2 cursor-pointer hover:opacity-80" onClick={handleMoveTask} > <GoFileSymlinkFile className="m-auto" /> <p className="text-[12px]">Move</p> </div> <div className="delete text-[#C6C8D6] cursor-pointer hover:text-pink2" onClick={handleDeleteSelectedTasks} > <FaRegTrashAlt className="m-auto" /> <p className="text-[12px]">Delete</p> </div> </div> </div> <div className="close flex items-center px-[16px]"> <IoClose className="text-[25px] text-white2 cursor-pointer" onClick={() => setSelectedTasks([])} /> </div> </div> )} {/* Pagination */} <div className="pagination bg-grayDash flex items-center rounded-[14px] px-[18px] justify-between h-[64px] w-full md:w-auto"> <div className="shpp flex items-center gap-[12px]"> <p className="text-white2">Show per page</p> <div className="select rounded-[14px]"> <select value={itemsPerPage} onChange={(e) => { setItemsPerPage(Number(e.target.value)); setCurrentPage(1); }} className="rounded-[3px] bg-grayDash border border-gray text-white2 w-auto" > <option value={5}>5</option> <option value={10}>10</option> <option value={20}>20</option> <option value={30}>30</option> <option value={40}>40</option> <option value={50}>50</option> <option value={80}>80</option> <option value={100}>100</option> </select> </div> </div> <div className="pages flex items-center gap-[12px]"> <p className="text-white2"> Page {currentPage} of {totalPages} </p> <div> <div className="flex items-center gap-[6px]"> <div className="prev bg-grayDash rounded-[14px] flex items-center justify-center cursor-pointer p-[6px] hover:bg-gray" onClick={() => currentPage > 1 && setCurrentPage((prev) => prev - 1) } > <span className="text-white2 rotate-180 text-[20px]"> &#8592; </span> </div> <div className="next bg-grayDash rounded-[14px] flex items-center justify-center cursor-pointer p-[6px] hover:bg-gray" onClick={() => currentPage < totalPages && setCurrentPage((prev) => prev + 1) } > <span className="text-pink2 text-[20px]">&#8594;</span> </div> </div> </div> </div> </div> </div> </div> ); }; export default SheetList;
```

# src\Components\Sidebar\Sheets\Sheets.jsx

```jsx
import { Dropdown, Input, Modal, Space, Tooltip, Avatar, Badge, Popover, } from "antd"; import React, { useCallback, useContext, useEffect, useState } from "react"; import { BsTable, BsThreeDotsVertical } from "react-icons/bs"; import { IoAddCircleOutline, IoSearch } from "react-icons/io5"; import { Link, useParams, useNavigate, useSearchParams } from "react-router-dom"; import { AuthContext } from "../../../Auth/AuthContext"; import { useQuery } from "@tanstack/react-query"; import axiosInstance from "../../../AxiosInctance/AxiosInctance"; import { MdDelete, MdEdit } from "react-icons/md"; import { IoMdCalendar } from "react-icons/io"; import { CiFilter } from "react-icons/ci"; import { FaListUl } from "react-icons/fa"; import SheetTabel from "./SheetTabel"; import CreateSheetFormModal from "./CreateEditSheetFormModal"; import { AnimatePresence, motion } from "framer-motion"; import Calendar from "react-calendar"; // You may need to install this or use a placeholder import "react-calendar/dist/Calendar.css"; import SheetList from "./SheetList"; import SheetCalendar from "./SheetCalendar"; import DeleteConfirmationModal from "../../../Components/Modals/DeleteConfirmationModal"; import Selecter from "../../Pagination and selecter/Selecter"; const Sheets = () => { const { id } = useParams(); // workspace ID const { sheetId } = useParams(); // sheet ID const [editingSheetId, setEditingSheetId] = useState(null); const [isEditing, setIsEditing] = useState(false); const [editingSheetName, setEditingSheetName] = useState(""); const [editingSheetOrder, setEditingSheetOrder] = useState(null); const [isOpen, setIsOpen] = useState(false); const [deleteModalOpen, setDeleteModalOpen] = useState(false); const [sheetToDelete, setSheetToDelete] = useState(null); const token = localStorage.getItem("token"); const navigate = useNavigate(); const { createTask } = useContext(AuthContext); const [view, setView] = useState("table"); // 'table', 'list', 'calendar' const [selectedDateTasks, setSelectedDateTasks] = useState([]); const [calendarPopoverOpen, setCalendarPopoverOpen] = useState(false); const [calendarPopoverPosition, setCalendarPopoverPosition] = useState({ x: 0, y: 0, }); const [calendarPopoverDate, setCalendarPopoverDate] = useState(null); const [searchParams, setSearchParams] = useSearchParams(); const searchQuery = searchParams.get("search") || ""; const { isLoading, error, data: sheets, refetch, } = useQuery({ queryKey: ["sheets", id], queryFn: async () => { const response = await axiosInstance.get(`/workspace/${id}`, { headers: { Authorization: `Bearer ${token}`, }, }); return response.data; }, staleTime: 300000, enabled: !!id, }); useEffect(() => { if (sheets?.sheets.length && !sheetId) { // Navigate to the first sheet if sheetId is not provided navigate(`/dashboard/workspace/${id}/${sheets.sheets[0].id}`); } }, [sheets, sheetId, id, navigate]); const handleToggleModal = useCallback(async () => { setIsOpen((prev) => !prev); if (isOpen) { setIsEditing(false); // setSheet({ name: "", workspaceId: id }); setEditingSheetId(null); } }, [isOpen, id]); const handleEdit = (workspace) => { setIsEditing(true); setEditingSheetId(workspace.id); setEditingSheetOrder(workspace.order); setEditingSheetName(workspace.name); setIsOpen(true); }; const handleDelete = async (sheetId) => { await axiosInstance.delete(`/sheet/${sheetId}`, { headers: { Authorization: `Bearer ${token}`, }, }); setDeleteModalOpen(false); setSheetToDelete(null); refetch(); }; const items = (sheetId, sheetOrder, sheetName) => [ { key: "1", label: ( <Link className="flex items-center gap-[20px]" onClick={() => handleEdit({ id: sheetId, order: sheetOrder, name: sheetName }) } > <p className="text-[14px] font-radioCanada">Edit</p> <MdEdit /> </Link> ), }, { key: "2", label: ( <div className="flex items-center gap-[10px] text-red-500" onClick={() => { setSheetToDelete(sheetId); setDeleteModalOpen(true); }} > <p className="text-[14px] font-radioCanada">Delete</p> <MdDelete /> </div> ), disabled: false, }, ]; const { isLoading: taskLoading, error: errorTask, data, refetch: taskRefetch, } = useQuery({ queryKey: ["tasks", sheetId], queryFn: async () => await axiosInstance.get(`/task/${sheetId}`, { headers: { Authorization: `Bearer ${token}`, }, }), }); const addNewTask = async () => { const newTask = { sheetId: sheetId, // unique ID for each task name: "", status: "", // members: [ // members[0]?.id // default member ID // ], priority: "", link: "", price: 100, paid: true, // startDate: "Jan 19,2034", // endDate: "Jan 19,2034", }; await createTask(newTask); taskRefetch(); }; const [filteredTasks, setFilteredTasks] = useState([]); useEffect(() => { if (data?.data?.tasks) { if (!searchQuery.trim()) { setFilteredTasks(data.data.tasks); return; } const lowercaseQuery = searchQuery.toLowerCase(); const filtered = data.data.tasks.filter((task) => Object.values(task).some( (value) => value && value.toString().toLowerCase().includes(lowercaseQuery) ) ); setFilteredTasks(filtered); } }, [searchQuery, data?.data?.tasks]); const handleSearch = (e) => { const value = e.target.value; if (value.trim()) { setSearchParams({ search: value }); } else { setSearchParams({}); } }; const tasks = filteredTasks; const handleSheetCreated = (newSheet) => { if (newSheet && newSheet.id) { navigate(`/dashboard/workspace/${id}/${newSheet.id}`); } }; return ( <> {/* Delete Confirmation Modal */} <DeleteConfirmationModal isOpen={deleteModalOpen} onClose={() => { setDeleteModalOpen(false); setSheetToDelete(null); }} onDelete={() => sheetToDelete && handleDelete(sheetToDelete)} title="Delete Sheet" message="Are you sure you want to delete this sheet? This action cannot be undone." /> <div className=""> <AnimatePresence mode="wait" > <motion.div key={sheetId || "sheet-list"} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -20 }} transition={{ duration: 0.35, ease: "easeInOut" }} > <div className="sheets mt-[27px] text-white gap-[10px] flex"> <CreateSheetFormModal handleToggleModal={handleToggleModal} isOpen={isOpen} refetch={refetch} isEditing={isEditing} editingSheetId={editingSheetId} editingSheetOrder={editingSheetOrder} editingSheetName={editingSheetName} onSheetCreated={handleSheetCreated} /> {sheets?.sheets.map((sheet) => ( <Link key={sheet.id} to={`/dashboard/workspace/${id}/${sheet.id}`} className="sheet flex items-center gap-[6px] hover:bg-gray transition-all duration-1000 bg-grayDash rounded-[9px] pl-[12px] pr-[6px] py-[6px] inline-flex cursor-pointer" > <p>{!sheet.name == "" ? sheet.name : "Untitled"}</p> <Dropdown trigger={["click"]} menu={{ items: items(sheet.id, sheet.order, sheet.name) }} > <a onClick={(e) => e.preventDefault()}> <Space> <BsThreeDotsVertical className={`cursor-pointer text-[10px] ${ sheetId == sheet.id ? "block" : "hidden" }`} /> </Space> </a> </Dropdown> </Link> ))} <div className="sheet flex items-center gap-[6px] bg-grayDash rounded-[9px] hover:bg-gray transition-all duration-1000 px-[6px] py-[7px] cursor-pointer" onClick={handleToggleModal} > <IoAddCircleOutline className="text-[20px]" /> </div> </div> {sheetId && ( <motion.div key="sheet-actions" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -20 }} transition={{ duration: 0.3, ease: "easeInOut" }} className="sheetActions mt-[47.5px] flex gap-[14px] items-center justify-between border-b pb-[21px] border-gray3" > <div className="flex gap-[18px]"> <div className="newProject"> <button className="flex bg-white py-[11.5px] px-[12px] items-center rounded-[9px] text-pink2 gap-[10px]" onClick={addNewTask} > <IoAddCircleOutline className="text-[22px]" /> <p className="font-[500] text-[14px]">New project</p> </button> </div> <div className="search inputsr"> <Input prefix={<IoSearch className="text-[21px]" />} placeholder="Search..." value={searchQuery} onChange={handleSearch} className="bg-grayDash font-radioCanada text-[14px] hover:bg-grayDash outline-none text-white active:bg-grayDash focus:bg-grayDash overflow-hidden border-none w-[210px] h-[46px]" /> </div> </div> <div className="items-center flex gap-[16px]"> <div className={`text-white flex items-center gap-[6px] hover:cursor-pointer ${ view === "table" ? "font-bold underline" : "" }`} onClick={() => setView("table")} > <BsTable /> <p>Table</p> </div> <div className={`text-white flex items-center gap-[6px] hover:cursor-pointer ${ view === "list" ? "font-bold underline" : "" }`} onClick={() => setView("list")} > <FaListUl className="text-[18px]" /> <p>List</p> </div> <div className={`text-white flex items-center gap-[6px] hover:cursor-pointer ${ view === "calendar" ? "font-bold underline" : "" }`} onClick={() => setView("calendar")} > <IoMdCalendar className="text-[21px]" /> <p>Calendar</p> </div> </div> </motion.div> )} <AnimatePresence mode="wait"> {isLoading ? ( <motion.div key="loading" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.3 }} className="mt-[26px]" > <div className="animate-pulse bg-grayDash rounded-[12px] h-[400px] flex items-center justify-center"> <div className="text-gray4 text-[20px] font-radioCanada"> Loading... </div> </div> </motion.div> ) : error ? ( <motion.div key="error" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.3 }} className="mt-[26px]" > <div className="bg-grayDash rounded-[12px] font-radioCanada text-center text-red-400 py-10"> Error loading sheets. </div> </motion.div> ) : !sheets?.sheets?.length ? ( <motion.div key="empty" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.3 }} className="mt-[26px]" > <div className="bg-grayDash rounded-[12px] font-radioCanada text-center text-gray2 py-10"> No sheets found. Create a new sheet to get started! </div> </motion.div> ) : ( <motion.div key={view} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -20 }} transition={{ duration: 0.35, ease: "easeInOut" }} > {view === "table" && <SheetTabel tasks={tasks} />} {view === "list" && <SheetList tasks={tasks} />} {view === "calendar" && <SheetCalendar tasks={tasks} />} </motion.div> )} </AnimatePresence> </motion.div> </AnimatePresence> </div> </> ); }; export default Sheets;
```

# src\Components\Sidebar\Sheets\SheetsSmallComps\AnimatedNoData.jsx

```jsx
import React from "react"; import noDataImage from "../../../../assets/no-data.svg"; const NoDataDisplay = ({ message }) => { return ( <div className="flex flex-col items-center justify-center py-20"> <img src={noDataImage} alt="No Data" className="w-[240px] h-[200px] mb-6" /> <p className="text-[20px] text-gray4 font-medium">{message}</p> </div> ); }; export default NoDataDisplay;
```

# src\Components\Sidebar\Sheets\SheetsSmallComps\ColumnSelect.jsx

```jsx
import React from 'react'; const ColumnSelect = ({ handleChange, column }) => { return ( <div className="relative group"> <select name="type" onChange={handleChange} value={column.type} className="w-full bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white appearance-none cursor-pointer focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" > {/* <option value="SELECT">Select</option> */} <option value="TEXT">Text</option> <option value="NUMBER">Number</option> <option value="DATE">Date</option> <option value="CHECK">Check</option> <option value="MEMBER">Array</option> </select> {/* Custom dropdown arrow */} <div className="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[#777C9D] group-hover:text-pink2 transition-colors"> <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" > <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" /> </svg> </div> {/* Hover gradient effect */} <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </div> ); }; export default ColumnSelect;
```

# src\Components\Sidebar\Sheets\SheetsSmallComps\CustomModal.jsx

```jsx
import React from 'react'; import ColumnSelect from './ColumnSelect'; import { motion, AnimatePresence } from 'framer-motion'; import { FiX } from 'react-icons/fi'; import { BsColumns } from 'react-icons/bs'; const CustomModal = ({ isOpen, handleToggleModal, handleOk, column, handleChange }) => { return ( <AnimatePresence> {isOpen && ( <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="fixed inset-0 z-50 flex items-center justify-center p-4" > {/* Backdrop */} <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="absolute inset-0 bg-black/50 backdrop-blur-sm" onClick={handleToggleModal} /> {/* Modal */} <motion.div initial={{ scale: 0.95, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.95, opacity: 0 }} transition={{ type: "spring", duration: 0.5 }} className="relative bg-[#1E1E1E] rounded-2xl w-full max-w-md overflow-hidden" > {/* Glass effect top banner */} <div className="absolute inset-x-0 top-0 h-32 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <div className="relative p-6"> {/* Close button */} <motion.button whileHover={{ scale: 1.1, rotate: 90 }} whileTap={{ scale: 0.9 }} onClick={handleToggleModal} className="absolute top-4 right-4 text-gray2 hover:text-white transition-colors" > <FiX size={24} /> </motion.button> {/* Header */} <div className="flex items-center gap-4 mb-8"> <motion.div whileHover={{ scale: 1.05 }} className="w-14 h-14 rounded-2xl bg-gradient-to-br from-pink2/20 to-pink2/10 flex items-center justify-center" > <BsColumns className="text-pink2 text-2xl" /> </motion.div> <div> <h2 className="text-2xl font-semibold text-white mb-1">Create Column</h2> <p className="text-[#777C9D] text-sm">Add a new column to your sheet</p> </div> </div> {/* Form */} <div className="space-y-6"> <div className="space-y-2"> <label htmlFor="columnName" className="block text-sm font-medium text-[#777C9D]"> Column Name </label> <motion.div whileFocus={{ scale: 1.02 }} className="relative group" > <input type="text" id="columnName" name="name" value={column.name} onChange={handleChange} placeholder="Enter column name" className="w-full bg-[#2A2A2A] border-2 border-[#3A3A3A] rounded-xl py-3 px-4 text-white placeholder:text-[#777C9D] focus:outline-none focus:border-pink2 focus:ring-1 focus:ring-pink2/50 transition-all duration-300" /> <div className="absolute inset-0 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none" /> </motion.div> </div> <div className="space-y-2"> <label className="block text-sm font-medium text-[#777C9D]"> Column Type </label> <ColumnSelect column={column} handleChange={handleChange} /> </div> <div className="flex gap-3 pt-2"> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={handleToggleModal} className="flex-1 bg-[#2A2A2A] text-[#777C9D] rounded-xl py-3.5 font-medium transition-all duration-300 hover:bg-[#3A3A3A] hover:text-white" > Cancel </motion.button> <motion.button whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} onClick={handleOk} className="flex-1 bg-gradient-to-r from-pink2 to-pink2/90 text-white rounded-xl py-3.5 font-medium transition-all duration-300 hover:shadow-lg hover:shadow-pink2/20 relative overflow-hidden group" > <span className="relative z-10">Create</span> <div className="absolute inset-0 bg-gradient-to-r from-pink2/0 via-white/20 to-pink2/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000" /> </motion.button> </div> </div> </div> </motion.div> </motion.div> )} </AnimatePresence> ); }; export default CustomModal;
```

# src\Components\Sidebar\Sheets\SheetsSmallComps\NewSheetButton.jsx

```jsx
import React from "react"; import { IoAddCircleOutline } from "react-icons/io5"; const NewSheetButton = ({ handleToggleModal }) => { return ( <div className="sheet flex items-center gap-[6px] bg-grayDash rounded-[9px] hover:bg-gray transition-all duration-1000 px-[6px] py-[7px] cursor-pointer" onClick={handleToggleModal} > <IoAddCircleOutline className="text-[20px]" /> </div> ); }; export default NewSheetButton;
```

# src\Components\Sidebar\Sheets\SheetsSmallComps\NoDataAvailable.jsx

```jsx
import React from "react"; import { RiFileList3Line } from "react-icons/ri"; import { IoAddCircleOutline } from "react-icons/io5"; const NoDataAvailable = ({ message, onAddClick }) => { return ( <div className="flex flex-col items-center justify-center h-[400px] bg-grayDash rounded-[12px] font-radioCanada"> <div className="flex flex-col items-center gap-4"> <RiFileList3Line className="text-[64px] text-gray4" /> <p className="text-[20px] text-gray4 font-medium"> {message || "No Data Available"} </p> {onAddClick && ( <button onClick={onAddClick} className="flex items-center gap-2 px-4 py-2 mt-4 text-white bg-primary hover:bg-primary/90 rounded-[8px] transition-colors" > <IoAddCircleOutline className="text-[20px]" /> <span>Add New Column</span> </button> )} </div> </div> ); }; export default NoDataAvailable;
```

# src\Components\Sidebar\Sheets\SheetsSmallComps\SheetTableItem.jsx

```jsx
import { Input, Select } from "antd"; import { RiCheckboxBlankLine, RiCheckboxLine } from "react-icons/ri"; import Selects from "../Selects"; import DatePicker from "react-datepicker"; import "react-datepicker/dist/react-datepicker.css"; import { Draggable } from "react-beautiful-dnd"; import { AuthContext } from "../../../../Auth/AuthContext"; import { useContext } from "react"; const SheetTableItem = ({ task, columns, onChange, onEdit, index, isSelected, onSelect, }) => { const handleInputChange = (taskKey, e) => { let value = e?.target?.value; if ( taskKey.toLowerCase() === "price" || taskKey.toLowerCase() === "order" || taskKey.toLowerCase() === "number1" || taskKey.toLowerCase() === "number2" || taskKey.toLowerCase() === "number3" || taskKey.toLowerCase() === "number4" || taskKey.toLowerCase() === "number5" ) { value = parseFloat(value) || 0; onChange(task.id, taskKey, value); return; } if ( ["date1", "date2", "date3", "date4", "date5"].includes( taskKey.toLowerCase() ) ) { // `e` here is a JS Date object from react-datepicker value = e ? e.toISOString().slice(0, 10) : null; onChange(task.id, taskKey, value); return; } onChange(task.id, taskKey, value); }; const renderField = (columnKey) => { if ( [ "status", "select", "select1", "select2", "select3", "select4", "select5", ].includes(columnKey.toLowerCase()) ) { return ( <Select suffixIcon={null} onChange={(value) => handleInputChange(columnKey.toLowerCase(), { target: { value } }) } defaultValue={task[columnKey.toLowerCase()] || "Select value"} > <Select.Option value="Pending"> <Selects bgSelect={"#C6C8D6"} value={"Pending"} textColor={"#2E3142"} > Pending </Selects> </Select.Option> <Select.Option value="In progres"> <Selects bgSelect={"#B296F5"} value={"In progres"} textColor={"#11042F"} > In progres </Selects> </Select.Option> <Select.Option value="Rejected"> <Selects bgSelect={"#DC5091"} value={"Rejected"} textColor={"#801949"} > Rejected </Selects> </Select.Option> <Select.Option value="Done"> <Selects bgSelect={"#0EC359"} value={"Done"} textColor={"#064B23"}> Done </Selects> </Select.Option> </Select> ); } if ( ["date1", "date2", "date3", "date4", "date5"].includes( columnKey.toLowerCase() ) ) { const dateValue = task[columnKey.toLowerCase()] ? new Date(task[columnKey.toLowerCase()]) : null; return ( <DatePicker selected={dateValue} onChange={(date) => handleInputChange(columnKey.toLowerCase(), date)} dateFormat="yyyy-MM-dd" className="w-[80%] bg-grayDash text-white text-[18px] rounded px-2 py-1" placeholderText="Select date" /> ); } const { members } = useContext(AuthContext) // Checkbox type support if ( ["checkbox", "checkbox1", "checkbox2", "checkbox3", "checkbox4", "checkbox5"].includes( columnKey.toLowerCase() ) ) { const checked = !!task[columnKey.toLowerCase()]; return ( <div className="flex items-center justify-center w-full"> <input type="checkbox" checked={checked} onChange={(e) => handleInputChange(columnKey.toLowerCase(), { target: { value: e.target.checked } }) } className="w-5 h-5 accent-pink2 bg-[#23272F] border-[#3A3A3A] rounded focus:ring-pink2" /> </div> ); } // Link input type if ( ["link", "website"].includes(columnKey.toLowerCase()) ) { const value = task[columnKey.toLowerCase()] || ""; // Only allow valid links (http/https) const handleLinkChange = (e) => { const val = e.target.value; if (/^https?:\/\/\S+\.\S+/.test(val) || val === "") { handleInputChange(columnKey.toLowerCase(), e); } }; const handleDoubleClick = () => { if (/^https?:\/\/\S+\.\S+/.test(value)) { window.open(value, "_blank", "noopener,noreferrer"); } }; return ( <div className="flex items-center w-full"> <Input className="bg-grayDash border-none focus:bg-gray3 hover:bg-grayDash text-white text-[18px] underline placeholder-white" value={value} onChange={handleLinkChange} type="url" placeholder="https://example.com" required onClick={(e) => e.stopPropagation()} onDoubleClick={handleDoubleClick} /> </div> ); } console.log(members); if (columnKey.toLowerCase() === "price") { return ( <div className="flex items-center w-full"> <span className="text-pink2 font-bold mr-1">$</span> <Input className="bg-grayDash border-none focus:bg-gray3 hover:bg-grayDash text-white text-[18px] placeholder-white" value={task[columnKey.toLowerCase()] || ""} onChange={(e) => handleInputChange(columnKey.toLowerCase(), e)} type="number" placeholder="0.00" /> </div> ); } if (columnKey.toLowerCase() === "members") { return ( <div className="flex items-center -space-x-4"> {members.map((member, index) => ( <img key={member.id} src={ member.user.avatar?.path ? `https://eventify.preview.uz/${member.user.avatar?.path}` : testMemImg } alt={ member.user.firstName ? member.user.firstName : "Member Image" } className="w-[30px] h-[30px] 2xl:w-[35px] 2xl:h-[35px] rounded-full object-cover border-2 border-[#1a1a2e]" style={{ zIndex: members.length - index }} /> ))} </div> ); } return ( <Input className="bg-grayDash border-none focus:bg-gray3 hover:bg-grayDash text-white text-[18px]" value={task[columnKey.toLowerCase()] || ""} onChange={(e) => handleInputChange(columnKey.toLowerCase(), e)} type="text" /> ); }; return ( <Draggable draggableId={task.id.toString()} index={index}> {(provided) => ( <tr className="task flex text-white border-b border-[black] font-radioCanada" ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps} > <td className="w-[48px] py-[16px] px-[11px] flex items-center justify-center border-r border-r-[black] sticky left-0 bg-grayDash z-10"> <div onClick={(e) => { e.stopPropagation(); onSelect && onSelect(task.id); }} className="cursor-pointer w-[20px] h-[20px] flex items-center justify-center" > {isSelected ? ( <RiCheckboxLine className="text-pink2 w-[20px] h-[20px]" style={{ strokeWidth: "0.5" }} /> ) : ( <RiCheckboxBlankLine className="text-gray4 w-[20px] h-[20px]" style={{ strokeWidth: "0.5" }} /> )} </div> </td> {columns?.map( (column, idx) => column.show && ( <td key={idx} className="w-[180px] flex items-center justify-between py-[16px] border-l border-l-[black] px-[11px]" onClick={() => onEdit && onEdit()} > {renderField(column.key)} </td> ) )} </tr> )} </Draggable> ); }; export default SheetTableItem;
```

# src\Components\Sidebar\Sheets\SheetTabel.jsx

```jsx
import React, { useState, useCallback, useContext, useEffect } from "react"; import axiosInstance from "../../../AxiosInctance/AxiosInctance"; import { AuthContext } from "../../../Auth/AuthContext"; import { useParams } from "react-router-dom"; import { useQuery } from "@tanstack/react-query"; import { RiCheckboxBlankLine, RiCheckboxLine } from "react-icons/ri"; import { MdDragIndicator } from "react-icons/md"; import { IoAddCircleOutline } from "react-icons/io5"; import { DragDropContext, Droppable, Draggable } from "react-beautiful-dnd"; import SheetTableItem from "./SheetsSmallComps/SheetTableItem"; import CustomModal from "./SheetsSmallComps/CustomModal"; import { IoIosArrowForward } from "react-icons/io"; import noDataImage from "../../../assets/no-data.svg"; import Selecter from "../../../Components/Pagination and selecter/Selecter"; import { GoFileSymlinkFile } from "react-icons/go"; import { FaRegTrashAlt } from "react-icons/fa"; import { IoClose } from "react-icons/io5"; import AnimatedNoData from "./SheetsSmallComps/AnimatedNoData"; import MoveTaskModal from "../../../Components/Modals/MoveTaskModal"; import swal from "sweetalert"; import { AnimatePresence, motion } from "framer-motion"; import DeleteConfirmationModal from "../../Modals/DeleteConfirmationModal"; const SheetTabel = ({ tasks = [], isEditing }) => { const { sheetId } = useParams(); const [isOpen, setIsOpen] = useState(false); const [isMoveModalOpen, setIsMoveModalOpen] = useState(false); const [column, setColumn] = useState({ key: "", type: "TEXT", sheetId, show: true, }); const [selectedTasks, setSelectedTasks] = useState([]); const [itemsPerPage, setItemsPerPage] = useState(10); const [currentPage, setCurrentPage] = useState(1); const [taskList, setTaskList] = useState(tasks); const [filteredTasks, setFilteredTasks] = useState(tasks); const [columnOrder, setColumnOrder] = useState([]); const [editingTaskId, setEditingTaskId] = useState(null); const [lastSentTask, setLastSentTask] = useState(null); const [deleteModalOpen, setDeleteModalOpen] = useState(false); const token = localStorage.getItem("token"); const { createColumn, dndOrdersTasks } = useContext(AuthContext); const { isLoading, error, data: sheets, refetch, } = useQuery({ queryKey: ["sheets", sheetId], queryFn: async () => { const response = await axiosInstance.get(`/sheet/${sheetId}`, { headers: { Authorization: `Bearer ${token}`, }, }); return response.data; }, staleTime: 300000, // Cache for 5 minutes }); useEffect(() => { if (tasks) { // Sort tasks by their 'order' property if it exists const sortedTasks = [...tasks].sort((a, b) => { if (typeof a.order === "number" && typeof b.order === "number") { return a.order - b.order; } return 0; }); setTaskList(sortedTasks); setFilteredTasks(sortedTasks); } if (sheets?.columns) { setColumnOrder(sheets.columns.map((_, index) => index)); } }, [tasks, sheets]); // Handle task reordering (drag and drop) const handleOnDragEnd = useCallback( (result) => { const { source, destination, type } = result; if (!destination) return; // No destination means no movement if (type === "TASK") { // Handle task reordering const reorderedTasks = Array.from(filteredTasks); const [movedTask] = reorderedTasks.splice(source.index, 1); reorderedTasks.splice(destination.index, 0, movedTask); setFilteredTasks(reorderedTasks); const taskIds = reorderedTasks.map((task) => task.id); const orders = reorderedTasks.map((_, index) => index + 1); const resultData = { taskId: taskIds, orders }; dndOrdersTasks(resultData); } else if (type === "COLUMN") { // Handle column reordering const reorderedColumns = Array.from(sheets.columns); const [movedColumn] = reorderedColumns.splice(source.index, 1); reorderedColumns.splice(destination.index, 0, movedColumn); setColumnOrder(reorderedColumns.map((_, idx) => idx)); // Update columnOrder based on the new order sheets.columns = reorderedColumns; // Update the columns array locally } }, [filteredTasks, sheets, dndOrdersTasks] ); // Handle task changes const handleColumnChange = (taskId, taskKey, value) => { if (taskId === editingTaskId) { setFilteredTasks((prevTasks) => prevTasks.map((task) => task.id === taskId ? { ...task, [taskKey]: value } : task ) ); } }; useEffect(() => { if (!editingTaskId) return; const intervalId = setInterval(() => { const editedTask = filteredTasks.find( (task) => task.id === editingTaskId ); if (editedTask) { // Only send if data has changed since last sent const memberfixedtask = { ...editedTask, members: editedTask.members.map((member) => member.id), }; const currentTaskString = JSON.stringify(memberfixedtask); if (currentTaskString !== lastSentTask) { axiosInstance .patch(`/task/${editingTaskId}`, memberfixedtask, { headers: { Authorization: `Bearer ${token}`, }, }) .then((response) => { setLastSentTask(currentTaskString); console.log("Task updated successfully:", response.data); }) .catch((error) => { console.error("Error updating task:", error); }); } } }, 300); return () => clearInterval(intervalId); }, [editingTaskId, filteredTasks, token, lastSentTask]); // Modal logic for adding a new column const handleToggleModal = useCallback(() => { setIsOpen((prev) => !prev); }, [isOpen]); const handleOk = async () => { if (!column.type || !column.sheetId || !column.name) { console.log({ type: column.type, sheetId: column.sheetId, key: column.key, }); swal({ title: "Error !", text: `Please fill all required fields (name, type)`, icon: "error", button: "close", }); return; } await createColumn({ ...column, sheetId }); refetch(); handleToggleModal(); setColumn({ key: "", type: "TEXT", sheetId, show: true }); // Reset with default type }; const handleChange = (e) => { const { name, value } = e.target; console.log(name, value); setColumn((prevColumn) => ({ ...prevColumn, [name]: value, })); }; // Handle task selection const handleTaskSelect = (taskId) => { setSelectedTasks((prev) => { if (prev.includes(taskId)) { return prev.filter((id) => id !== taskId); } return [...prev, taskId]; }); }; // Handle select all tasks const handleSelectAllTasks = () => { if (selectedTasks.length === filteredTasks.length) { setSelectedTasks([]); } else { setSelectedTasks(filteredTasks.map((task) => task.id)); } }; // Calculate pagination const indexOfLastItem = currentPage * itemsPerPage; const indexOfFirstItem = indexOfLastItem - itemsPerPage; const paginatedTasks = filteredTasks.slice(indexOfFirstItem, indexOfLastItem); // Modified function to handle task deletion without page reload const handleDeleteSelectedTasks = async () => { try { // Delete tasks one by one asynchronously for (const taskId of selectedTasks) { try { await axiosInstance.delete(`/task/${taskId}`, { headers: { Authorization: `Bearer ${token}`, }, }); // Update both selectedTasks and filteredTasks arrays setSelectedTasks((prev) => prev.filter((id) => id !== taskId)); setFilteredTasks((prev) => prev.filter((task) => task.id !== taskId)); setTaskList((prev) => prev.filter((task) => task.id !== taskId)); } catch (error) { console.error(`Error deleting task ${taskId}:`, error); } } setDeleteModalOpen(false); } catch (error) { console.error("Error in deletion process:", error); } }; // Calculate total pages const totalPages = Math.ceil(filteredTasks.length / itemsPerPage); const handleMoveTask = () => { if (selectedTasks.length === 1) { setIsMoveModalOpen(true); } }; const handleTaskMoved = (taskId) => { // Remove the moved task from the list setTaskList((prevTasks) => prevTasks.filter((task) => task.id !== taskId)); setFilteredTasks((prevTasks) => prevTasks.filter((task) => task.id !== taskId) ); setSelectedTasks((prevSelected) => prevSelected.filter((id) => id !== taskId) ); }; if (isLoading) { return ( <div className="mt-[26px]"> <div className="animate-pulse bg-grayDash rounded-[12px] h-[400px] flex items-center justify-center"> <div className="text-gray4 text-[20px] font-radioCanada"> Loading... </div> </div> </div> ); } if (error) { return ( <div className="mt-[26px] custom-scrollbar"> <div className="bg-grayDash rounded-[12px] font-radioCanada"> <AnimatedNoData message="No Data" /> </div> </div> ); } return ( <div className=" py-[26px] custom-scrollbar "> {/* Delete Confirmation Modal */} <DeleteConfirmationModal isOpen={deleteModalOpen} onClose={() => setDeleteModalOpen(false)} onDelete={handleDeleteSelectedTasks} title="Delete Selected Tasks" message="Are you sure you want to delete the selected tasks? This action cannot be undone." /> <CustomModal isOpen={isOpen} handleToggleModal={handleToggleModal} column={column} isEditing={isEditing} handleChange={handleChange} handleOk={handleOk} /> {isMoveModalOpen && selectedTasks.length === 1 && ( <MoveTaskModal isOpen={isMoveModalOpen} onClose={() => { setIsMoveModalOpen(false); setSelectedTasks([]); }} taskId={selectedTasks[0]} onTaskMoved={handleTaskMoved} /> )} <DragDropContext onDragEnd={handleOnDragEnd}> <div className="overflow-x-auto rounded-[12px] custom-scrollbar" style={{ maxWidth: "100%" }} > <table className="bg-grayDash font-radioCanada w-full min-w-max"> <thead className="border-1 text-white"> <tr className="flex border-[black] border-b"> {/* Sticky checkbox header cell */} <td className="w-[48px] py-[16px] px-[11px] flex items-center justify-center border-r border-r-[black] cursor-pointer bg-grayDash sticky left-0 z-20" onClick={handleSelectAllTasks} > <div className="w-[20px] h-[20px] flex items-center justify-center"> {selectedTasks.length === filteredTasks.length ? ( <RiCheckboxLine className="text-pink2 w-[20px] h-[20px]" style={{ strokeWidth: "0.5" }} /> ) : ( <RiCheckboxBlankLine className="text-gray4 w-[20px] h-[20px]" style={{ strokeWidth: "0.5" }} /> )} </div> </td> {/* Draggable Columns + Sticky Add Button */} <td className="flex-grow"> <Droppable droppableId="droppableColumns" direction="horizontal" type="COLUMN" > {(provided) => ( <div className="flex relative" ref={provided.innerRef} {...provided.droppableProps} > {sheets?.columns.map((column, index) => { const showColumn = column.show; return ( showColumn && ( <Draggable key={column.id} draggableId={`column-${column.id}`} index={index} > {(provided) => ( <div className="w-[180px] flex items-center justify-between py-[16px] border-r border-[black] px-[11px] hide" ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps} > {column.name} <MdDragIndicator className="text-gray4 cursor-grab" /> </div> )} </Draggable> ) ); })} {provided.placeholder} {/* Sticky Add Button */} <div className="w-[50px] flex items-end justify-center py-[16px] border-r border-[black] px-[11px] cursor-pointer bg-grayDash z-10 sticky right-0" onClick={handleToggleModal} > <IoAddCircleOutline className="text-[20px] text-gray4" /> </div> </div> )} </Droppable> </td> </tr> </thead> <Droppable droppableId="droppable" direction="vertical" type="TASK"> {(provided) => ( <tbody ref={provided.innerRef} {...provided.droppableProps}> {paginatedTasks?.map((task, index) => ( <tr key={task.id} className="flex border-b border-black "> {/* Sticky checkbox cell in row */} {/* Task data cells */} <SheetTableItem task={task} columns={sheets?.columns.filter((_, idx) => columnOrder.includes(idx) )} index={index} isSelected={selectedTasks.includes(task.id)} onSelect={handleTaskSelect} onEdit={() => setEditingTaskId(task.id)} onChange={handleColumnChange} /> </tr> ))} {provided.placeholder} </tbody> )} </Droppable> </table> </div> </DragDropContext> <Selecter selectedTasks={selectedTasks} setSelectedTasks={setSelectedTasks} setItemsPerPage={setItemsPerPage} setCurrentPage={setCurrentPage} itemsPerPage={itemsPerPage} currentPage={currentPage} filteredTasks={filteredTasks} handleMoveTask={handleMoveTask} setDeleteModalOpen={setDeleteModalOpen} /> </div> ); }; export default SheetTabel;
```

# src\Components\Sidebar\Sidebar.jsx

```jsx
import React from "react"; import logo from "../../assets/b4a0bd5e0894dd27c9b0053b36ac6208.png"; import { IoSettingsSharp } from "react-icons/io5"; import Workspaces from "./Workspaces"; import Members from "./Members"; import Viewers from "./Viewers"; import { useQuery } from "@tanstack/react-query"; import axiosInstance from "../../AxiosInctance/AxiosInctance"; import { Link } from "react-router-dom"; const Sidebar = () => { const token = localStorage.getItem("token"); const { data, isLoading, error } = useQuery({ queryKey: ["sidebar-userinfo"], queryFn: async () => await axiosInstance.get("/user/info", { headers: { Authorization: `Bearer ${token}` }, }), }); const user = data?.data || {}; const role = user?.roles ?.find((i) => i.id === user.selectedRole) ?.type?.toLowerCase(); return ( <div className="h-screen flex flex-col py-4 lg:py-5 xl:py-[22px] px-4 lg:px-5 xl:px-[31px] border-r border-1 border-grayDash overflow-y-auto sidebar-container custom-scrollbar"> <div className="brand flex items-center justify-between bg-pink rounded-[16px] p-4 lg:p-5 xl:p-6 w-full"> <div className="flex items-center gap-3 lg:gap-4 xl:gap-[23px]"> <div className="flex-shrink-0"> <img src={logo} alt="Logo" className="w-7 h-7 lg:w-[28px] xl:w-[30px] lg:h-[28px] xl:h-[30px] rounded-[5px] object-contain" /> </div> <h1 className="text-responsive-xl font-bold text-white whitespace-nowrap"> Eventify </h1> </div> </div> <div className="workspaces mt-6 lg:mt-8"> <Workspaces user={user} /> </div> {/* Only show members/viewers for author or admin */} { <> <div className="members mt-6 lg:mt-8"> <Members role={role} /> </div> <div className="viewers mt-6 lg:mt-8"> <Viewers role={role}/> </div> </> } <Link to="/settings" className="settings xl:mt-auto pt-[30px]"> <button className="flex w-full bg-white rounded-[9px] py-2 lg:py-3 xl:py-[10px] px-4 lg:px-5 xl:pl-[20px] gap-2 lg:gap-[3px] items-center font-radioCanada hover:bg-gray-100 transition-colors"> <IoSettingsSharp className="text-lg lg:text-xl xl:text-[22px] text-grayDash" /> <p className="text-responsive-sm">Settings</p> </button> </Link> </div> ); }; export default Sidebar;
```

# src\Components\Sidebar\Viewers.jsx

```jsx
import React, { useEffect, useState } from "react"; import testMemImg from "../../assets/da562fcd7191cd36e0cb665c80152064.png"; import { useQuery } from "@tanstack/react-query"; const Viewers = ({ role }) => { const token = localStorage.getItem("token"); const { isLoading, error, data: membersData, } = useQuery({ queryKey: ["members"], queryFn: async () => { const response = await axiosInstance.get("/member", { headers: { Authorization: `Bearer ${token}`, }, }); return response.data; }, enabled: role != "member" && !!token, staleTime: 300000, cacheTime: 600000, // cache for 10 minutes refetchOnWindowFocus: false, // don't refetch when window/tab is focused }); const [members, setMembers] = useState([]); useEffect(() => { if (membersData) { setMembers(membersData); } }, [membersData]); const viewerMembers = members.filter((member) => member.type === "VIEWER"); { viewerMembers.length > 0 ? ( viewerMembers.map((member, i) => ( <div key={i} className="secLine my-[12px] space-y-[4px]"> <div className="viewer flex items-center gap-[12px]"> <div className="memImg"> <img src={testMemImg} alt="" className="w-[28.8px] rounded-[50%]" /> </div> <div className="memText"> <p className="text-[14px] text-white">Marina - Eli Robinson</p> <p className="text-[11px] text-gray2">{member.user.email}</p> </div> </div> </div> )) ) : ( <p className="text-gray2 text-sm mt-2">No viewer members found.</p> ) } return (<div> {(role === "author" || role === "admin") ? ( <div className="bg-grayDash py-[16px] px-[17px] rounded-[17px] font-radioCanada mt-[18px] shadow-xl"> <div className="frLine flex justify-between items-center"> <h1 className="text-gray2 font-radioCanada text-[16px]">Viewers</h1> {/* Replace with dynamic check when viewers are fetched from API */} {false && ( <button className="text-white text-[13px] bg-black py-[7px] px-[15px] rounded-[9px]"> see all </button> )} </div> {viewerMembers.length > 0 ? ( viewerMembers.map((member, i) => ( <div key={i} className="secLine my-[12px] space-y-[4px]"> <div className="viewer flex items-center gap-[12px]"> <div className="memImg"> <img src={ member.user.avatar?.path ? `https://eventify.preview.uz/${member.user.avatar?.path}` : testMemImg } alt={member.user.firstName || "Viewer"} className="w-[28.8px] h-[28.8px] rounded-full object-cover" /> </div> <div className="memText"> <p className="text-[14px] text-white">{`${member.user.firstName} ${member.user.lastName}`}</p> <p className="text-[11px] text-gray2" style={{ maxWidth: "140px", overflow: "hidden", textOverflow: "ellipsis", whiteSpace: "nowrap", display: "block" }} title={member.user.email || "No email"} > {member.user.email || "No email"} </p> </div> </div> </div> )) ) : ( <p className="text-gray2 text-sm mt-2 text-white">No viewer members found.</p> )} </div>) : ( <p className="text-gray2 text-[14px]"></p> )} </div> ); }; export default Viewers;
```

# src\Components\Sidebar\Workspaces.jsx

```jsx
import { Dropdown, Space } from "antd"; import React, { useContext, useState, useCallback, useEffect } from "react"; import { BsThreeDotsVertical } from "react-icons/bs"; import { IoAddCircleOutline } from "react-icons/io5"; import { AuthContext } from "../../Auth/AuthContext"; import { DragDropContext, Droppable, Draggable } from "react-beautiful-dnd"; import { useQuery } from "@tanstack/react-query"; import axiosInstance from "../../AxiosInctance/AxiosInctance"; import { MdDelete, MdEdit } from "react-icons/md"; import { Link, useNavigate, useParams } from "react-router-dom"; import WorkspaceFormModal from "../Modals/WorkspaceFormModal"; import DeleteConfirmationModal from "../Modals/DeleteConfirmationModal"; const Workspaces = ({user}) => { const [isOpen, setIsOpen] = useState(false); const [isEditing, setIsEditing] = useState(false); // Track whether creating or editing const [showAll, setShowAll] = useState(false); const { createWorkspace, dndOrders } = useContext(AuthContext); const [workspaceName, setWorkspaceName] = useState({ name: "" }); const [editingWorkspaceOrder, setEditingWorkspaceOrder] = useState(null); // Store the id of workspace being edited const [editingWorkspaceId, setEditingWorkspaceId] = useState(null); // Store the id of workspace being edited const token = localStorage.getItem("token"); const { id: activeWorkspaceId } = useParams(); const navigate = useNavigate(); const [selectedRole, setSelectedRole] = useState(null); const [deleteModalOpen, setDeleteModalOpen] = useState(false); const [workspaceToDelete, setWorkspaceToDelete] = useState(null); const { isLoading, error, data: workspacesData, refetch, } = useQuery({ queryKey: ["workspaces"], queryFn: async () => { const response = await axiosInstance.get("/workspace", { headers: { Authorization: `Bearer ${token}`, }, }); return response.data; }, staleTime: 300000, // Cache for 5 minutes }); // 1. On data load or route change, ensure the URL is valid useEffect(() => { if (!workspacesData) return; // If no workspaces, always go to /dashboard if (workspacesData.length === 0) { if (activeWorkspaceId) navigate("/dashboard", { replace: true }); return; } // If URL is invalid or missing, go to first workspace const exists = workspacesData.some((w) => w.id === activeWorkspaceId); if (!activeWorkspaceId || !exists) { navigate(`/dashboard/workspace/${workspacesData[0].id}`, { replace: true, }); } }, [workspacesData, activeWorkspaceId, navigate]); const handleChange = (e) => { setWorkspaceName({ ...workspaceName, [e.target.name]: e.target.value }); }; const handleToggleModal = useCallback(() => { setIsOpen((prev) => !prev); if (isOpen) { setIsEditing(false); // Reset state when modal closes setWorkspaceName({ name: "" }); setEditingWorkspaceId(null); } }, [isOpen]); // 2. Workspace creation: after creating, navigate to new workspace const handleOk = useCallback(async () => { try { if (isEditing) { await axiosInstance.put( `/workspace/${editingWorkspaceId}`, { name: workspaceName.name, order: editingWorkspaceOrder }, { headers: { Authorization: `Bearer ${token}` } } ); } else { const newWorkspace = await createWorkspace(workspaceName); if (newWorkspace && newWorkspace.id) { navigate(`/dashboard/workspace/${newWorkspace.id}`); } } setWorkspaceName({ name: "" }); handleToggleModal(); refetch(); } catch (error) { console.error("Error creating/updating workspace:", error); } }, [ createWorkspace, workspaceName, isEditing, editingWorkspaceId, handleToggleModal, refetch, navigate, token, editingWorkspaceOrder, ]); // 3. Workspace deletion: after deleting, refetch and redirect if needed const handleDelete = async (workspaceId) => { try { await axiosInstance.delete(`/workspace/${workspaceId}`, { headers: { Authorization: `Bearer ${token}` }, }); await refetch(); setDeleteModalOpen(false); setWorkspaceToDelete(null); // After refetch, the useEffect above will handle redirection if needed } catch (error) { console.error("Error deleting workspace:", error); } }; // Drag and drop logic (unchanged, but use workspacesData as source) const handleOnDragEnd = useCallback( (result) => { if (!result.destination || !workspacesData) return; const reorderedWorkspaces = Array.from(workspacesData); const [movedWorkspace] = reorderedWorkspaces.splice( result.source.index, 1 ); reorderedWorkspaces.splice(result.destination.index, 0, movedWorkspace); const workspaceIds = reorderedWorkspaces.map((workspace) => workspace.id); const orders = reorderedWorkspaces.map((_, index) => index + 1); const resultData = { workspaceIds, orders }; dndOrders(resultData); updateWorkspaceOrder(resultData); }, [workspacesData, dndOrders] ); const updateWorkspaceOrder = async (data) => { try { await axiosInstance.put("/workspace", data, { headers: { Authorization: `Bearer ${token}` }, }); refetch(); } catch (error) { console.error("Error updating workspace order:", error); } }; const handleEdit = (workspace) => { setIsEditing(true); setWorkspaceName({ name: workspace.name }); // Ensure correct name is set setEditingWorkspaceId(workspace.id); setEditingWorkspaceOrder(workspace.order); setIsOpen(true); }; const items = (workspaceId, workspaceOrder, workspaceNameValue) => [ { key: "1", label: ( <div className="flex items-center gap-[20px]" onClick={() => handleEdit({ id: workspaceId, order: workspaceOrder, name: workspaceNameValue, // Pass the correct name }) } > <p className="text-[14px] font-radioCanada">Edit</p> <MdEdit /> </div> ), }, { key: "2", label: ( <div className="flex items-center gap-[10px] text-red-500" onClick={() => { setWorkspaceToDelete(workspaceId); setDeleteModalOpen(true); }} > <p className="text-[14px] font-radioCanada">Delete</p> <MdDelete /> </div> ), disabled: false, }, ]; const visibleWorkspaces = workspacesData ? showAll ? workspacesData : workspacesData.slice(0, 3) : []; useEffect(() => { if (user?.roles && user?.selectedRole) { const foundRole = user.roles.find((i) => user.selectedRole === i.id); setSelectedRole(foundRole); // You may keep or remove the console logs as needed for debugging console.log(user); console.log({ userrole: foundRole }); console.log({ selectedRole: foundRole }); } // Only run when user changes // eslint-disable-next-line react-hooks/exhaustive-deps }, [user]); return ( <div className="bg-grayDash py-[16px] px-[17px] rounded-[17px] font-radioCanada mt-[18px] shadow-xl"> {/* Delete Confirmation Modal */} <DeleteConfirmationModal isOpen={deleteModalOpen} onClose={() => { setDeleteModalOpen(false); setWorkspaceToDelete(null); }} onDelete={() => workspaceToDelete && handleDelete(workspaceToDelete)} title="Delete Workspace" message="Are you sure you want to delete this workspace? This action cannot be undone." /> <WorkspaceFormModal isOpen={isOpen} onClose={handleToggleModal} isEditing={isEditing} workspaceName={workspaceName} onWorkspaceNameChange={handleChange} onSubmit={handleOk} /> <div className="frLine flex justify-between items-center"> <h1 className="text-gray2 font-radioCanada text-[16px]">Workspaces</h1> {workspacesData && workspacesData.length > 3 && ( <button onClick={() => setShowAll(!showAll)} className="text-white text-[13px] bg-black py-[7px] px-[15px] rounded-[9px]" > {showAll ? "Show Less" : "See All"} </button> )} </div> {error ? ( <p className="text-red-500 py-[10px]"> Error occurred at fetching workspaces </p> ) : ( <DragDropContext onDragEnd={handleOnDragEnd}> <Droppable droppableId="workspaces"> {(provided) => ( <div className={`secLine my-[12px] space-y-[4px] ${ showAll ? "h-[200px] overflow-y-auto custom-scrollbar horizontal-scroll pr-1" : "" }`} {...provided.droppableProps} ref={provided.innerRef} > {visibleWorkspaces.map((workspace, index) => ( <Draggable key={workspace.id} draggableId={workspace.id} index={index} > {(provided) => ( <Link to={`/dashboard/workspace/${workspace.id}`} className={`workspace flex items-center text-white bg-grayDash justify-between py-[10px] pl-[21px] pr-[10px] rounded-[8px] ${ workspace.id === activeWorkspaceId ? "bg-pink2" : "bg-grayDash" }`} ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps} > <div className="flex items-center gap-[8px]"> <p className="text-[18px]">#</p> <p className="text-[14px]"> {!isLoading ? workspace.name : "Loading"} </p> </div> <Dropdown trigger={["click"]} menu={{ items: items(workspace.id, workspace.order, workspace.name) }} > <a onClick={(e) => e.preventDefault()}> <Space> <BsThreeDotsVertical className="cursor-pointer" /> </Space> </a> </Dropdown> </Link> )} </Draggable> ))} {provided.placeholder} </div> )} </Droppable> </DragDropContext> )} {/* Add workspace button */} {selectedRole?.type !== 'MEMBER' ? ( <div className="addWorkspacebutton"> <button className="flex items-center gap-0 text-white px-[19px] bg-white w-full justify-between py-[10px] rounded-[9px]" onClick={handleToggleModal} > <IoAddCircleOutline className="text-gray4 text-[18px]" /> <p className="text-gray4 text-[14px]"> {workspacesData && workspacesData.length === 0 ? "Create first Workspace" : "Add worklist"} </p> {workspacesData && workspacesData.length > 0 && ( <p className="text-pink2 text-[13px]">Pro+</p> )} </button> </div>) : ( <div></div> )} </div> ); }; export default Workspaces;
```

# src\Components\Subscriptions\Subscriptions.jsx

```jsx
import React from 'react' import { Link } from 'react-router-dom' const plans = [ { name: "Free", price: "$0", period: "/month", description: "You just want to discover", features: [ "10 Credits", "Generate video (2 credits)", "Quizz (1 credits)" ], button: { text: "Signup for free", to: "/dashboard", style: "from-pink2/10 to-pink2/5 text-pink2 bg-gradient-to-r" } }, { name: "Pro", price: "$12", period: "/month", description: "You want to learn and have a personal assistant", features: [ "30 credits", "Powered by GPT-4 (more accurate)", "Generate video (2 credits)", "Quizz (1 credits)", "Analytics on the quizz" ], button: { text: "Signup for Pro", to: "https://click.uz/ru", style: "from-pink2 to-pink2/90 text-white bg-gradient-to-r" }, badge: "Most popular" } ]; const Subscriptions = () => { return ( <div className="min-h-screen bg-[#181A20] py-16 px-2"> <div> <h2 className="text-4xl font-bold text-white text-center mb-4 drop-shadow">Pricing</h2> <p className="max-w-2xl mx-auto mt-2 text-lg text-center text-[#777C9D]"> Get started on our free plan and upgrade when you are ready. </p> </div> <div className="mt-16 grid gap-10 md:grid-cols-2 max-w-3xl mx-auto"> {plans.map((plan, idx) => ( <div key={plan.name} className="relative bg-[#1E1E1E] rounded-2xl border-2 border-[#3A3A3A] shadow-lg flex flex-col overflow-hidden" > <div className="absolute inset-x-0 top-0 h-16 bg-gradient-to-b from-pink2/20 to-transparent pointer-events-none" /> <div className="relative p-8 flex-1 flex flex-col"> {plan.badge && ( <span className="absolute top-6 right-6 bg-pink2 text-white rounded-full px-4 py-1 text-xs font-semibold uppercase tracking-wide shadow-lg"> {plan.badge} </span> )} <h3 className="text-2xl font-bold text-white mb-2">{plan.name}</h3> <p className="mt-2 flex items-baseline"> <span className="text-4xl font-extrabold tracking-tight text-pink2">{plan.price}</span> <span className="ml-2 text-lg font-semibold text-[#777C9D]">{plan.period}</span> </p> <p className="mt-4 text-[#C4E1FE]">{plan.description}</p> <ul className="mt-6 space-y-4"> {plan.features.map((feature, i) => ( <li key={i} className="flex items-center"> <span className="w-6 h-6 flex items-center justify-center rounded-full bg-pink2/20 text-pink2 mr-3"> <svg width="18" height="18" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"> <polyline points="20 6 9 17 4 12"></polyline> </svg> </span> <span className="text-white">{feature}</span> </li> ))} </ul> <Link className={`mt-8 block w-full py-3 px-6 rounded-xl text-center font-bold transition-all duration-300 hover:shadow-lg hover:shadow-pink2/20 ${plan.button.style}`} to={plan.button.to} target={plan.button.to.startsWith("http") ? "_blank" : undefined} rel={plan.button.to.startsWith("http") ? "noopener noreferrer" : undefined} > {plan.button.text} </Link> </div> </div> ))} </div> </div> ) } export default Subscriptions
```

# src\Components\Uploader\ImageUploader.jsx

```jsx
import { useState } from "react"; import instance from "../Inctance/Inctance"; import { TiDelete } from "react-icons/ti"; const ImageUploader = ({ setSelectedImgId, setSelectedAudioId, tittle, type,selectedFiles,setSelectedFiles }) => { const handleFileChange = async (event) => { const formData = new FormData(); const file = event.target.files[0]; // Using 'file' for both images and audio if (file) { formData.append("file", file); try { const token = localStorage.getItem("token"); const response = await instance.post("/file/create", formData, { headers: { Authorization: `Bearer ${token}`, }, }); console.log("Response:", response); console.log("Response data:", response.data); if (type === 'imageUpload') { setSelectedImgId((prevImgs) => [...prevImgs, response.data.file._id]); setSelectedFiles((prevFiles) => [...prevFiles, response.data.file]); // Update selected files } else if (type === 'audioUpload') { setSelectedAudioId((prevAudioIds) => [...prevAudioIds, response.data.file._id]); } } catch (error) { console.error("Error uploading file:", error); } } }; async function deleteImg(file_id) { console.log("Deleting file with ID:", file_id); try { const token = localStorage.getItem("token"); const response = await instance.post( "/file/delete", { file_id: [file_id] }, { headers: { Authorization: `Bearer ${token}`, }, } ); console.log("Delete response:", response.data); } catch (error) { console.error("Error deleting image:", error); } } const handleDeleteImg = (id) => { // Optimistically remove the image from the UI const newSelectedImg = selectedFiles.filter((img) => img._id !== id); console.log([newSelectedImg]); setSelectedFiles(newSelectedImg); // Call the API to delete the image from the server deleteImg(id).catch((error) => { console.error("Error deleting image:", error); // If deletion fails, revert the UI change (optional) // You could also show an error message here }); }; // console.log(selectedFiles); return ( <div> <label className="block text-gray-700 font-medium"> {tittle} </label> <div className="flex items-center mt-[20px]"> <div className="flex items-center justify-center w-32 h-32 border-2 border-dashed rounded-lg cursor-pointer" onClick={() => document.querySelector(`input[name="${type}"]`).click()} > <div className="text-center"> <span className="text-2xl font-bold">+</span> <input name={type} type="file" className="mt-1 block w-full p-2 border border-gray-300 rounded-md hidden" onChange={handleFileChange} /> <p>Upload</p> </div> </div> <div className="flex gap-[20px] ml-[20px]"> {selectedFiles?.map((file) => ( <div key={file._id} className="relative"> {type === 'imageUpload' && ( <div> <TiDelete className="absolute text-white text-[24px] cursor-pointer right-0" onClick={(e)=>handleDeleteImg(file._id)} /> <img src={`http://localhost:8000/${file.filename}`} alt="Selected" className="w-32 h-32 object-cover rounded-lg" /> </div> )} {type === 'audioUpload' && ( <audio controls> <source src={`http://localhost:8000/${file.filename}`} /> Your browser does not support the audio tag. </audio> )} </div> ))} </div> </div> </div> ); }; export default ImageUploader;
```

# src\Components\WelcomeDashboard.jsx

```jsx
import React from 'react'; import { BsKanban, BsClockHistory, BsCalendarCheck } from 'react-icons/bs'; import { AiOutlineTeam, AiOutlineStar } from 'react-icons/ai'; import { MdEventAvailable, MdTrendingUp } from 'react-icons/md'; import { RiVipCrownLine } from 'react-icons/ri'; import { motion } from 'framer-motion'; const WelcomeDashboard = () => { const stats = [ { title: "Total Events", value: "28", icon: <MdEventAvailable className="text-4xl text-pink2" />, bgColor: "bg-white bg-opacity-[0.03]", textColor: "text-pink2" }, { title: "Team Members", value: "24", icon: <AiOutlineTeam className="text-4xl text-[#B296F5]" />, bgColor: "bg-white bg-opacity-[0.03]", textColor: "text-[#B296F5]" }, { title: "Recent Activities", value: "67", icon: <BsClockHistory className="text-4xl text-[#0EC359]" />, bgColor: "bg-white bg-opacity-[0.03]", textColor: "text-[#0EC359]" }, { title: "Active Projects", value: "12", icon: <BsKanban className="text-4xl text-[#DC5091]" />, bgColor: "bg-white bg-opacity-[0.03]", textColor: "text-[#DC5091]" } ]; const highlights = [ { title: "Upcoming Events", value: "5 events this week", icon: <BsCalendarCheck className="text-3xl" />, color: "text-[#B296F5]" }, { title: "Growth Rate", value: "+24% this month", icon: <MdTrendingUp className="text-3xl" />, color: "text-[#0EC359]" }, { title: "Premium Features", value: "All features unlocked", icon: <RiVipCrownLine className="text-3xl" />, color: "text-[#DC5091]" } ]; const container = { hidden: { opacity: 0 }, show: { opacity: 1, transition: { staggerChildren: 0.1 } } }; const item = { hidden: { opacity: 0, y: 20 }, show: { opacity: 1, y: 0, transition: { duration: 0.5 } } }; return ( <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="p-8 font-radioCanada bg-background min-h-screen" > {/* Welcome Section with Gradient */} <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6 }} className="mb-12 bg-gradient-to-r from-white/[0.07] to-white/[0.02] p-8 rounded-2xl relative overflow-hidden shadow-[0_0_10px_rgba(255,255,255,0.03)] hover:shadow-[0_0_15px_rgba(255,255,255,0.05)] transition-shadow duration-500" > <div className="relative z-10"> <h1 className="text-5xl font-bold text-white mb-3">Welcome back, Team! <span className="text-pink2">👋</span></h1> <p className="text-white/70 text-lg">Here's your events overview for today.</p> </div> <div className="absolute top-0 right-0 w-1/3 h-full opacity-[0.02] bg-gradient-to-l from-white to-transparent"></div> </motion.div> {/* Stats Grid */} <motion.div variants={container} initial="hidden" animate="show" className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12" > {stats.map((stat, index) => ( <motion.div key={index} variants={item} whileHover={{ scale: 1.05, y: -5 }} className={`${stat.bgColor} rounded-2xl p-6 transition-all duration-500 shadow-[0_0_8px_rgba(255,255,255,0.02)] hover:shadow-[0_0_12px_rgba(255,255,255,0.03)] backdrop-blur-[2px] hover:backdrop-blur-[5px]`} > <div className="flex items-center justify-between"> <div> <p className="text-white/50 mb-2 text-sm font-medium">{stat.title}</p> <h3 className={`text-3xl font-bold ${stat.textColor}`}>{stat.value}</h3> </div> <div className="bg-white/[0.02] p-3 rounded-xl backdrop-blur-[3px] shadow-inner"> {stat.icon} </div> </div> </motion.div> ))} </motion.div> {/* Highlights Section */} <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6, delay: 0.3 }} className="bg-white bg-opacity-[0.03] rounded-2xl p-8 shadow-[0_0_10px_rgba(255,255,255,0.02)] hover:shadow-[0_0_15px_rgba(255,255,255,0.03)] backdrop-blur-[2px] transition-all duration-500" > <h2 className="text-2xl font-bold text-white mb-6 flex items-center gap-2"> <AiOutlineStar className="text-pink2" /> Highlights </h2> <motion.div variants={container} initial="hidden" animate="show" className="grid grid-cols-1 md:grid-cols-3 gap-6" > {highlights.map((highlight, index) => ( <motion.div key={index} variants={item} whileHover={{ y: -8 }} className="bg-white/[0.02] rounded-xl p-6 transition-all duration-500 shadow-[0_0_8px_rgba(255,255,255,0.01)] hover:shadow-[0_0_12px_rgba(255,255,255,0.02)] backdrop-blur-[3px]" > <div className={`${highlight.color} mb-4`}> {highlight.icon} </div> <h3 className="text-white/80 font-semibold mb-1">{highlight.title}</h3> <p className={`${highlight.color} font-bold`}>{highlight.value}</p> </motion.div> ))} </motion.div> </motion.div> </motion.div> ); }; export default WelcomeDashboard;
```

# src\index.css

```css
@tailwind base; @tailwind components; @tailwind utilities; @layer base { html { font-size: 13px; @media (min-width: 768px) { font-size: 13.5px; } @media (min-width: 1024px) { font-size: 14px; } @media (min-width: 1280px) { font-size: 14.5px; } @media (min-width: 1536px) { font-size: 15px; } } } @layer utilities { /* .bg-300% { background-size: 300% 300%; } */ .text-responsive-xs { font-size: 0.75rem; @media (min-width: 1024px) { font-size: 0.8125rem; } @media (min-width: 1280px) { font-size: 0.875rem; } } .text-responsive-sm { font-size: 0.875rem; @media (min-width: 1024px) { font-size: 0.9375rem; } @media (min-width: 1280px) { font-size: 1rem; } } .text-responsive-base { font-size: 1rem; @media (min-width: 1024px) { font-size: 1.0625rem; } @media (min-width: 1280px) { font-size: 1.125rem; } } .text-responsive-lg { font-size: 1.125rem; @media (min-width: 1024px) { font-size: 1.1875rem; } @media (min-width: 1280px) { font-size: 1.25rem; } } .text-responsive-xl { font-size: 1.25rem; @media (min-width: 1024px) { font-size: 1.375rem; } @media (min-width: 1280px) { font-size: 1.5rem; } } .text-responsive-2xl { font-size: 1.5rem; @media (min-width: 1024px) { font-size: 1.625rem; } @media (min-width: 1280px) { font-size: 1.75rem; } } } .brCr { color: #7658b1 !important; } .inputsr input::placeholder { color: white; } /* Ant Design Select Styles */ .ant-select-selector { background-color: #222430 !important; border: none !important; padding: 0 !important; width: 120px !important; color: white !important; border-radius: 3px !important; } .ant-select-dropdown { background-color: #222430 !important; border: none !important; padding: 6px; } .ant-select-item-option { padding: 0 !important; padding-bottom: 0 !important; margin-top: 5px; border: none !important; } .ant-select-item-option-active { background-color: transparent !important; } .ant-select-item-option-selected { background-color: unset !important; } /* */ /* Remove input spinners */ input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } /* Empty table state styles */ .empty-table-message { @apply flex flex-col items-center justify-center py-12 px-4 text-center; } .empty-table-message svg { @apply w-16 h-16 text-[#777C9D] mb-4; } .empty-table-message h3 { @apply text-responsive-lg text-white font-medium mb-2; } .empty-table-message p { @apply text-responsive-sm text-[#777C9D]; } .animate-gradient { animation: moveGradient 8s alternate infinite; } @keyframes moveGradient { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } } /* */ .custom-scrollbar::-webkit-scrollbar { width: 3px; height: 3px; } /* Track */ .custom-scrollbar::-webkit-scrollbar-track { /* box-shadow: inset 0 0 5px grey; */ border-radius: 10px; } /* Handle */ .custom-scrollbar::-webkit-scrollbar-thumb { background: #777c9d; border-radius: 10px; } /* Handle on hover */ .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #777c9d; } /* Global scrollbar styles for the entire page */ html::-webkit-scrollbar { width: 5px; height: 5px; } /* Track */ html::-webkit-scrollbar-track { background: none; border-radius: 20px; } /* Handle */ html::-webkit-scrollbar-thumb { background: #777c9d; border-radius: 10px; } /* Handle on hover */ html::-webkit-scrollbar-thumb:hover { background: #555; } /* Custom Scrollbar */ .custom-scrollbar-notification::-webkit-scrollbar { width: 6px; } .custom-scrollbar-notification::-webkit-scrollbar-track { background: transparent; } .custom-scrollbar-notification::-webkit-scrollbar-thumb { background-color: #2a2a2a; border-radius: 3px; } .custom-scrollbar-notification::-webkit-scrollbar-thumb:hover { background-color: #3a3a3a; } /* Geometric Blocks */ .geometric-block { position: absolute; border: 2px solid rgba(124, 58, 237, 0.15); background: linear-gradient( 45deg, rgba(124, 58, 237, 0.08) 0%, rgba(99, 102, 241, 0.08) 100% ); box-shadow: 0 8px 32px rgba(124, 58, 237, 0.1); backdrop-filter: blur(10px); border-radius: 16px; pointer-events: none; transform-origin: center; transition: all 0.5s ease-out; } .geometric-block::before { content: ""; position: absolute; inset: 0; background: linear-gradient( 45deg, rgba(124, 58, 237, 0.15) 0%, rgba(99, 102, 241, 0.05) 100% ); border-radius: 16px; } .geometric-block.small { width: 40px; height: 40px; } .geometric-block.medium { width: 80px; height: 80px; } .geometric-block.large { width: 120px; height: 120px; }
```

# src\main.jsx

```jsx
import { StrictMode } from 'react' import { createRoot } from 'react-dom/client' import App from './App.jsx' import './index.css' import { QueryClient, QueryClientProvider } from "@tanstack/react-query"; const queryClient = new QueryClient() createRoot(document.getElementById('root')).render( // <StrictMode> <QueryClientProvider client={queryClient}> <App /> </QueryClientProvider> // </StrictMode>, )
```

# src\Pages\Dashboard\Dashboard.jsx

```jsx
import React, { useState } from "react"; import Sidebar from "../../Components/Sidebar/Sidebar"; import Navbar from "../../Components/Navbar/Navbar"; import { Outlet } from "react-router-dom"; import { HiMenuAlt2 } from "react-icons/hi"; const Dashboard = () => { const [sidebarOpen, setSidebarOpen] = useState(false); return ( <div className="relative flex h-screen w-full overflow-hidden bg-background"> {/* Sidebar */} <div className={`${ sidebarOpen ? "translate-x-0" : "-translate-x-full" } lg:translate-x-0 fixed lg:relative w-[280px] xl:w-[300px] 2xl:w-[323px] h-screen transition-transform duration-300 ease-in-out z-40`} > <Sidebar /> </div> {/* Main Content */} <div className="flex flex-col flex-1 h-screen overflow-hidden"> {/* Navbar (Sticky Header) */} <div className="flex-shrink-0 z-10"> <Navbar /> </div> {/* Scrollable Main Area */} <div className="flex-1 overflow-y-auto w-full max-w-[1920px] mx-auto px-4 xl:px-6 pt-4"> <Outlet /> </div> </div> {/* Overlay */} {sidebarOpen && ( <div className="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden" onClick={() => setSidebarOpen(false)} /> )} </div> ); }; export default Dashboard;
```

# src\Pages\Dashboard\Workspace\Workspace.jsx

```jsx
import React from "react"; import Sheets from "../../../Components/Sidebar/Sheets/Sheets"; const Workspace = () => { return ( <div className="h-full max-w-[1500px] font-radioCanada m-auto"> <Sheets /> <div className="workSpaceForm"></div> <div className="pagination"></div> </div> ); }; export default Workspace;
```

# src\Pages\Home.jsx

```jsx
import React from 'react' import { motion } from 'framer-motion' import { FiArrowRight } from 'react-icons/fi' const Home = () => { return ( <div className="min-h-screen bg-[#181A20] flex items-center justify-center relative overflow-hidden"> {/* Modern gradient and geometric background */} <div className="absolute inset-0 z-0"> <div className="absolute inset-0 bg-gradient-to-br from-pink2/10 via-[#23272F]/40 to-[#181A20]" /> <div className="absolute top-10 left-10 w-64 h-64 bg-pink2/20 rounded-full blur-3xl" /> <div className="absolute bottom-0 right-0 w-96 h-96 bg-[#23272F]/30 rounded-full blur-3xl" /> <div className="absolute top-1/2 left-1/2 w-40 h-40 bg-pink2/10 rounded-full blur-2xl -translate-x-1/2 -translate-y-1/2" /> </div> {/* Hero Section */} <div className="relative z-10 w-full max-w-3xl mx-auto px-6 py-24 flex flex-col items-center justify-center text-center"> <motion.div initial={{ opacity: 0, y: 40 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.7, ease: [0.6, -0.05, 0.01, 0.99] }} className="mb-8" > <span className="inline-block px-4 py-2 rounded-xl bg-gradient-to-r from-pink2/20 to-pink2/10 text-pink2 font-semibold text-sm tracking-wide mb-4"> Welcome to <span className='text-white'>Eventify</span> </span> <h1 className="text-5xl md:text-6xl font-extrabold text-white mb-6 leading-tight drop-shadow-lg"> Organize. Collaborate. <br /> <span className="bg-gradient-to-r from-pink2 to-pink2/80 bg-clip-text text-transparent"> Make Events Happen </span> </h1> <p className="text-lg text-[#C4E1FE] max-w-xl mx-auto leading-relaxed"> The modern platform for teams and creators to plan, manage, and celebrate events together. Designed for comfort, speed, and style. </p> </motion.div> {/* Auth Buttons - placed below hero text */} <div className="mt-2 flex flex-col sm:flex-row gap-4 justify-center items-center"> <a href="/login" className="px-7 py-2 rounded-xl bg-gradient-to-r from-pink2 to-pink2/80 text-white font-bold text-lg shadow-lg hover:shadow-pink2/30 transition-all duration-300" > Login </a> <a href="/register" className="px-7 py-2 rounded-xl bg-[#23272F] text-white font-bold text-lg border-1 border-pink2 shadow-lg hover:bg-pink2 hover:text-white transition-all duration-300" > Register </a> </div> </div> </div> ) } export default Home
```

# tailwind.config.js

```js
/** @type {import('tailwindcss').Config} */ export default { content: [ "./index.html", "./src/**/*.{js,ts,jsx,tsx}", ], theme: { extend: { colors: { gray: '#445466', darkBlue: '#001122', textGray: '#AFBECC', yellow: '#BF7E1C', background:"#171922", pink:'#8469B9', grayDash:"#222430", gray2:"#475366", gray3:"#20222F", white:"#EFEBF6", black:"#171922", gray4:"#353847", pink2:"#7658B1", white2:"#777C9D", selectGray1:"#C6C8D6", selectGreen1:"#0EC359", selectPurple1:"#B296F5", selectRed1:"#DC5091", selectBlack2:"#2E3142", selectGreen2:"#064B23", selectPurple2:"#11042F", selectRed2:"#801949" }, fontFamily:{ radioCanada:"Radio Canada" }, }, }, plugins: [], }
```

# test.js

```js
/** * @param {string} s * @return {number} */ var romanToInt = function(s) { var numbers = { 'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000, }; let total = 0; // Variable to hold the total value let prevValue = 0; // Variable to hold the previous numeral value for (let i = 0; i < s.length; i++) { const currentValue = numbers[s[i]]; // console.log(currentValue); // If the current value is greater than the previous value, it means we have a subtractive case if (currentValue > prevValue) { total += currentValue - 2 * prevValue; // Subtract the previous value twice and add the current value } else { total += currentValue; // Otherwise, just add the current value } prevValue = currentValue; // Update the previous value to the current value } return total; // Return the total value }; console.log(romanToInt('V')); // Output: 5 console.log(romanToInt('IV')); // Output: 4 console.log(romanToInt('XLII')); // Output: 42 console.log(romanToInt('MCMXCIV')); // Output: 1994
```

# vite.config.js

```js
import { defineConfig } from 'vite' import react from '@vitejs/plugin-react' // https://vitejs.dev/config/ export default defineConfig({ plugins: [react()], })
```

